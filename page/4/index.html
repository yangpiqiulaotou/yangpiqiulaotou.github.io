<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="baidu-site-verification" content="code-55HKMllCks">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic%7CLobster+Two:300,300italic,400,400italic,700,700italic%7CAmita:300,300italic,400,400italic,700,700italic%7CMontserrat:300,300italic,400,400italic,700,700italic%7CPT+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-center-atom.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.12.1","exturl":false,"sidebar":{"position":"left","width":300,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="羊皮裘老头">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="羊皮裘老头">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="羊皮裘老头">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/4/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/4/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>羊皮裘老头</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">羊皮裘老头</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">28</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">13</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">116</span></a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="羊皮裘老头"
      src="/images/bb.jpg">
  <p class="site-author-name" itemprop="name">羊皮裘老头</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">116</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


<!-- CloudCalendar -->
<div class="widget-wrap" style="width: 90%;margin-left: auto;margin-right: auto; opacity: 0.97;">
	<div class="widget" id="CloudCalendar"></div>
</div>
        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/15/Go%E8%AF%AD%E8%A8%80%E5%88%87%E7%89%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/bb.jpg">
      <meta itemprop="name" content="羊皮裘老头">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="羊皮裘老头">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 羊皮裘老头">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/15/Go%E8%AF%AD%E8%A8%80%E5%88%87%E7%89%87/" class="post-title-link" itemprop="url">Go语言切片</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-15 14:44:58" itemprop="dateCreated datePublished" datetime="2021-04-15T14:44:58+08:00">2021-04-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-17 17:07:33" itemprop="dateModified" datetime="2022-04-17T17:07:33+08:00">2022-04-17</time>
    </span>

  
    <span id="/2021/04/15/Go%E8%AF%AD%E8%A8%80%E5%88%87%E7%89%87/" class="post-meta-item leancloud_visitors" data-flag-title="Go语言切片" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="切片的基本介绍"><a href="#切片的基本介绍" class="headerlink" title="切片的基本介绍"></a>切片的基本介绍</h2><ol>
<li><p>切片的英文是 slice</p>
</li>
<li><p>切片是数组的一个引用，因此 切片是引用类型，在进行传递时，遵守引用传递的机制。</p>
</li>
<li><p>切片的 使用和数组类似，遍历切片、访问切片的元素和求切片长度 len(slice)都一样。</p>
</li>
<li><p>切片的长度是可以变化的，因此切片是一个 可以动态变化数组。</p>
</li>
<li><p>切片定义的基本语法:</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var 切片名 []类型</span><br><span class="line">比如：var a [] int</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var Arrint [7]int &#x3D; [...]int&#123;11, 22, 33, 44, 55, 66, 77&#125;</span><br><span class="line">	&#x2F;&#x2F;定义一个切片</span><br><span class="line">	&#x2F;&#x2F;Arrint[2:5]表示slice引用到这个数组</span><br><span class="line">	&#x2F;&#x2F;引用数组的下标从2开始，但不包括5[2,5)</span><br><span class="line">	slice :&#x3D; Arrint[4:6]</span><br><span class="line">	fmt.Printf(&quot;slice&#x3D;%v\n&quot;, slice)</span><br><span class="line">	fmt.Printf(&quot;slice len&#x3D;%v\n&quot;, len(slice))</span><br><span class="line">	&#x2F;&#x2F;容量的大小为数组第一个下标到数组最后一个的总个数</span><br><span class="line">	fmt.Printf(&quot;容量&#x3D;%v\n&quot;, cap(slice))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>总结</p>
<ol>
<li><p>slice 的确是一个引用类型</p>
</li>
<li><p>slice 从底层来说，其实就是一个数据结构(struct 结构体)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">type slice struct &#123;</span><br><span class="line">ptr *[2]int</span><br><span class="line">len int</span><br><span class="line">cap int</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="切片的使用"><a href="#切片的使用" class="headerlink" title="切片的使用"></a>切片的使用</h2></li>
</ol>
<h3 id="第一种方式"><a href="#第一种方式" class="headerlink" title="第一种方式"></a>第一种方式</h3><p>​    定义一个切片，然后让切片去引用一个已经创建好的数组，如上面代码</p>
<h3 id="第二种方式"><a href="#第二种方式" class="headerlink" title="第二种方式"></a>第二种方式</h3><p>​    通过 make 来创建切片</p>
<p>基本语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var 切片名 []type &#x3D; make([]type, len, [cap])</span><br><span class="line">参数说明:</span><br><span class="line">	type: 就是数据类型</span><br><span class="line">	len : 大小</span><br><span class="line">	cap ：指定切片容量</span><br><span class="line">可选，如果你分配了 cap, 则要求 cap&gt;&#x3D;len</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;var 切片名 []type &#x3D; make([]type, len, [cap])</span><br><span class="line">	var slice []int &#x3D; make([]int, 4, 7)</span><br><span class="line">	slice[3] &#x3D; 44</span><br><span class="line">	slice[1] &#x3D; 11</span><br><span class="line">	fmt.Printf(&quot;slice&#x3D;%v\n&quot;, slice)</span><br><span class="line">	fmt.Printf(&quot;len&#x3D;%v\n&quot;, len(slice))</span><br><span class="line">	fmt.Printf(&quot;cap&#x3D;%v\n&quot;, cap(slice))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对上面代码的小结:</p>
<ol>
<li><p>通过 make 方式创建切片可以指定切片的大小和容量</p>
</li>
<li><p>如果没有给切片的各个元素赋值，那么就会使用默认值[int , float=&gt; 0 string =&gt;”” bool =&gt;false]</p>
</li>
<li><p>通过 make 方式创建的切片对应的数组是由 make 底层维护，对外不可见，即只能通过 slice 去访问各个元素.</p>
</li>
</ol>
<h3 id="第-3-种方式"><a href="#第-3-种方式" class="headerlink" title="第 3 种方式"></a>第 3 种方式</h3><p>​    定义一个切片，直接就指定具体数组，使用原理类似 make 的方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	var slice []string &#x3D; []string&#123;&quot;hello&quot;, &quot;word&quot;, &quot;k8s&quot;&#125;</span><br><span class="line">	fmt.Printf(&quot;slice&#x3D;%v\n&quot;, slice)</span><br><span class="line">	fmt.Printf(&quot;len&#x3D;%v\n&quot;, len(slice))</span><br><span class="line">	fmt.Printf(&quot;cap&#x3D;%v\n&quot;, cap(slice))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="切片的遍历"><a href="#切片的遍历" class="headerlink" title="切片的遍历"></a>切片的遍历</h2><p>切片的遍历和数组一样，也有两种方式</p>
<p>for 循环常规方式遍历</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	var sum []int &#x3D; []int&#123;1, 2, 3, 4, 5, 6, 7&#125;</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(sum); i++ &#123;</span><br><span class="line">		fmt.Printf(&quot;sum[%v]&#x3D;%v\n&quot;, i, sum[i])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>for-range 结构遍历切片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	var sum []int &#x3D; []int&#123;1, 2, 3, 4, 5, 6, 7&#125;</span><br><span class="line">	for i, v :&#x3D; range sum &#123;</span><br><span class="line">		fmt.Printf(&quot;i&#x3D;%v v&#x3D;%v\n&quot;, i, v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="使用的注意事项"><a href="#使用的注意事项" class="headerlink" title="使用的注意事项"></a>使用的注意事项</h2><ol>
<li>切片初始化时 var slice = arr[start  Index:end  Index]</li>
</ol>
<p>说明：从 arr 数组下标为 start  Index，取到 下标为 end  Index 的元素(不含 arr[end  Index])。</p>
<ol start="2">
<li>切片初始化时，仍然不能越界。范围在 [0-len(arr)] 之间，但是可以动态增长</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var slice &#x3D; arr[0:end] 可以简写 var slice &#x3D; arr[:end]</span><br><span class="line">var slice &#x3D; arr[start:len(arr)] 可以简写： var slice &#x3D; arr[start:]</span><br><span class="line">var slice &#x3D; arr[0:len(arr)] 可以简写: var slice &#x3D; arr[:]</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><p>cap 是一个内置函数，用于统计切片的容量，即最大可以存放多少个元素。</p>
</li>
<li><p>切片定义完后，还不能使用，因为本身是一个空的，需要让其引用到一个数组，或者 make 一个空间供切片来使用</p>
</li>
<li><p>切片可以继续切片</p>
</li>
<li><p>用 append 内置函数，可以对切片进行动态追加</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	var slice []int &#x3D; []int&#123;1, 2, 3, 4&#125;</span><br><span class="line">	fmt.Printf(&quot;slice&#x3D;%v\n地址&#x3D;%p\n&quot;, slice, &amp;slice)</span><br><span class="line"></span><br><span class="line">	slice &#x3D; append(slice, 5, 6, 7)</span><br><span class="line">	fmt.Printf(&quot;slice&#x3D;%v\n地址&#x3D;%p\n&quot;, slice, &amp;slice)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>切片 append  操作的底层原理分析:</p>
<p>1、切片 append 操作的本质就是对数组扩容</p>
<p>2、go 底层会创建一下新的数组 newArr(安装扩容后大小)</p>
<p>3、将 slice 原来包含的元素拷贝到新的数组 newArr</p>
<p>4、slice 重新引用到 newArr</p>
<p>注意 newArr 是在底层来维护的，程序员不可见</p>
<ol start="7">
<li>切片的拷贝操作，切片使用 copy 内置函数完成拷贝</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	var slice1 []int &#x3D; []int&#123;1, 2, 3, 4&#125;</span><br><span class="line">	var slice2 &#x3D; make([]int, 5)</span><br><span class="line"></span><br><span class="line">	copy(slice2, slice1)</span><br><span class="line">	fmt.Printf(&quot;slice1&#x3D;%v\nslice2&#x3D;%v\n&quot;, slice1, slice2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对上面代码的说明:</p>
<p>(1) copy(para1, para2) 参数的数据类型是切片</p>
<p>(2) 按照上面的代码来看, slice1 和 slice2 的数据空间是独立，相互不影响，也就是说 slice1[0]= 999,slice2[0] 仍然是 1</p>
<p>(3)如果copy参数中，para1长度小于para2，则只按照para1的长度拷贝</p>
<p>8)切片是引用类型，所以在传递时，遵守引用传递机制。看两段代码，并分析底层原理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	var slice []int</span><br><span class="line">	var arr [5]int &#x3D; [...]int&#123;1, 2, 3, 4, 5&#125;</span><br><span class="line">	slice &#x3D; arr[:]</span><br><span class="line">	var slice2 &#x3D; slice</span><br><span class="line">	slice2[0] &#x3D; 10</span><br><span class="line">	fmt.Println(&quot;slice2&#x3D;&quot;, slice2, &quot;slice&#x3D;&quot;, slice, &quot;arr&#x3D;&quot;, arr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test(slice []int) &#123;</span><br><span class="line">	slice[1] &#x3D; 10</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	var slice []int &#x3D; []int&#123;1, 2, 3, 4&#125;</span><br><span class="line">	fmt.Printf(&quot;slice&#x3D;%v\n&quot;, slice)</span><br><span class="line">	test(slice)</span><br><span class="line">	fmt.Printf(&quot;slice&#x3D;%v\n&quot;, slice)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="string和slice"><a href="#string和slice" class="headerlink" title="string和slice"></a>string和slice</h2><ol>
<li>string 底层是一个 byte 数组，因此 string 也可以进行切片处理</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	str :&#x3D; &quot;helloword&quot;</span><br><span class="line">	slice :&#x3D; str[2:]</span><br><span class="line">	fmt.Printf(&quot;slice&#x3D;%v\n&quot;, slice)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2）string 是不可变的，也就说不能通过 str[0] = ‘z’ 方式来修改字符串</p>
<p>3）如果需要修改字符串，可以先将 string -&gt; []byte / 或者 []rune -&gt; 修改 -&gt; 重写转成 string</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	str :&#x3D; &quot;helloword&quot;</span><br><span class="line">	arr :&#x3D; []byte(str)</span><br><span class="line">	arr[1] &#x3D; &#39;k&#39;</span><br><span class="line">	str &#x3D; string(arr)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3）[]byte是按字节来处理的，因此只能处理英文和数字，不能处理汉字，一个汉字是三个字节，会出现乱码</p>
<p>4）将string[]转换成[]rune即可，[]rune是按字符处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	str :&#x3D; &quot;helloword&quot;</span><br><span class="line">	arr :&#x3D; []rune(str)</span><br><span class="line">	arr[1] &#x3D; &#39;北&#39;</span><br><span class="line">	str &#x3D; string(arr)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="实例练习"><a href="#实例练习" class="headerlink" title="实例练习"></a>实例练习</h2><p>说明：编写一个函数 fbn(n int) ，要求完成</p>
<ol>
<li><p>可以接收一个 n int</p>
</li>
<li><p>能够将斐波那契的数列放到切片中</p>
</li>
<li><p>提示, 斐波那契的数列形式:</p>
</li>
</ol>
<p>arr[0] = 1; arr[1] = 1; arr[2]=2; arr[3] = 3; arr[4]=5; arr[5]=8</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)	·</span><br><span class="line"></span><br><span class="line">func fbn(n int) []uint64 &#123;</span><br><span class="line">	&#x2F;&#x2F;申明一个切片，长度为n</span><br><span class="line">	fbnslice :&#x3D; make([]uint64, n)</span><br><span class="line">	fbnslice[0] &#x3D; 1</span><br><span class="line">	fbnslice[1] &#x3D; 1</span><br><span class="line">	for i :&#x3D; 2; i &lt; n; i++ &#123;</span><br><span class="line">		fbnslice[i] &#x3D; fbnslice[i-1] + fbnslice[i-2]</span><br><span class="line">	&#125;</span><br><span class="line">	return fbnslice</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;申明一个函数fbn(n int)([]uint64)</span><br><span class="line">	&#x2F;&#x2F;编写fbn(n int)进行for循环来存放0&#x3D;1；1&#x3D;1</span><br><span class="line">	fbnslice :&#x3D; fbn(20)</span><br><span class="line">	fmt.Printf(&quot;fbnslice&#x3D;%v&quot;, fbnslice)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/14/Go%E8%AF%AD%E8%A8%80%E6%95%B0%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/bb.jpg">
      <meta itemprop="name" content="羊皮裘老头">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="羊皮裘老头">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 羊皮裘老头">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/14/Go%E8%AF%AD%E8%A8%80%E6%95%B0%E7%BB%84/" class="post-title-link" itemprop="url">Go语言数组</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-14 14:49:09" itemprop="dateCreated datePublished" datetime="2021-04-14T14:49:09+08:00">2021-04-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-17 17:07:33" itemprop="dateModified" datetime="2022-04-17T17:07:33+08:00">2022-04-17</time>
    </span>

  
    <span id="/2021/04/14/Go%E8%AF%AD%E8%A8%80%E6%95%B0%E7%BB%84/" class="post-meta-item leancloud_visitors" data-flag-title="Go语言数组" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="数组介绍"><a href="#数组介绍" class="headerlink" title="数组介绍"></a>数组介绍</h2><p>数组可以存放多个同一类型数据。数组也是一种数据类型，在 Go 中，数组是值类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;一个养鸡场有 6 只鸡，它们的体重分别是 3kg,5kg,1kg,3.4kg,2kg,50kg 。请问这六只鸡的总体重是多少?平均体重是多少?</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	hens1 :&#x3D; 3.0</span><br><span class="line">	hens2 :&#x3D; 5.0</span><br><span class="line">	hens3 :&#x3D; 1.0</span><br><span class="line">	hens4 :&#x3D; 3.4</span><br><span class="line">	hens5 :&#x3D; 2.0</span><br><span class="line">	hens6 :&#x3D; 50.0</span><br><span class="line">	totolWeight :&#x3D; hens1 + hens2 + hens3 + hens4 + hens5 + hens6</span><br><span class="line">	avgWeight :&#x3D; fmt.Sprintf(&quot;%.2f&quot;, totolWeight&#x2F;6)</span><br><span class="line">	fmt.Printf(&quot;avgWeight&#x3D;%v\n&quot;, avgWeight)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;使用数组表示</span><br><span class="line">	var hens [6]float64</span><br><span class="line">	hens[0] &#x3D; 3</span><br><span class="line">	hens[1] &#x3D; 5</span><br><span class="line">	hens[2] &#x3D; 1</span><br><span class="line">	hens[3] &#x3D; 3.4</span><br><span class="line">	hens[4] &#x3D; 2</span><br><span class="line">	hens[5] &#x3D; 50</span><br><span class="line">	totolWeight2 :&#x3D; 0.0</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(hens); i++ &#123;</span><br><span class="line">		totolWeight2 +&#x3D; hens[i]</span><br><span class="line">	&#125;</span><br><span class="line">	avgWeight2 :&#x3D; fmt.Sprintf(&quot;%.2f&quot;, totolWeight2&#x2F;float64(len(hens)))</span><br><span class="line">	fmt.Printf(&quot;avgWeight&#x3D;%v\n&quot;, avgWeight2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对上面代码的总结</p>
<p>1）使用数组来解决问题，程序的可维护性增加</p>
<p>2）而且方法代码更加清晰，也容易扩展</p>
<h2 id="数组定义和内存布局"><a href="#数组定义和内存布局" class="headerlink" title="数组定义和内存布局"></a>数组定义和内存布局</h2><h3 id="数组的定义"><a href="#数组的定义" class="headerlink" title="数组的定义"></a>数组的定义</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var 数组名 [数组大小]数据类型</span><br><span class="line">var a [5]int</span><br><span class="line">赋初值 a[0] &#x3D; 1 a[1] &#x3D; 30 ....</span><br></pre></td></tr></table></figure>
<h3 id="数组在内存布局"><a href="#数组在内存布局" class="headerlink" title="数组在内存布局"></a>数组在内存布局</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var intArr [3]int</span><br><span class="line"></span><br><span class="line">	intArr[0] &#x3D; 10</span><br><span class="line">	intArr[1] &#x3D; 20</span><br><span class="line">	intArr[2] &#x3D; 30</span><br><span class="line"></span><br><span class="line">	fmt.Printf(&quot;intArr地址是%p\n&quot;, &amp;intArr)</span><br><span class="line">	fmt.Printf(&quot;intArr[0]&#x3D;%v地址是%p\nintArr[1]&#x3D;%v地址是%p\nintArr[2]&#x3D;%v地址是%p\n&quot;,</span><br><span class="line">		intArr[0], &amp;intArr[0], intArr[1], &amp;intArr[1], intArr[2], &amp;intArr[2])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>数组的地址可以通过数组名来获取 &amp;intArr</p>
</li>
<li><p>数组的第一个元素的地址，就是数组的首地址</p>
</li>
<li><p>数组的各个元素的地址间隔是依据数组的类型决定，比如 int64 -&gt; 8  ； int32-&gt;4…</p>
</li>
</ol>
<h3 id="数组的使用"><a href="#数组的使用" class="headerlink" title="数组的使用"></a>数组的使用</h3><h4 id="访问数组元素"><a href="#访问数组元素" class="headerlink" title="访问数组元素"></a>访问数组元素</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数组名[ 下标] 比如：你要使用 a 数组的第三个元素 a[2]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;从终端循环输入 5 个成绩，保存到 float64 数组,并输出</span><br><span class="line">func main() &#123;</span><br><span class="line">	var score [5]float64</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(score); i++ &#123;</span><br><span class="line">		fmt.Printf(&quot;请输入第%d个值的成绩\n&quot;, i+1)    &#x2F;&#x2F;%d十进制表示</span><br><span class="line">		fmt.Scanln(&amp;score[i])</span><br><span class="line">	&#125;</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(score); i++ &#123;</span><br><span class="line">		fmt.Printf(&quot;score[%d]&#x3D;%v\n&quot;, i, score[i])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="四种初始化数组的方式"><a href="#四种初始化数组的方式" class="headerlink" title="四种初始化数组的方式"></a>四种初始化数组的方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var numArr1 [3]int &#x3D; [3]int&#123;1, 2, 3&#125;</span><br><span class="line">	fmt.Println(&quot;numArr1&#x3D;&quot;, numArr1)</span><br><span class="line"></span><br><span class="line">	var numArr2 &#x3D; [3]int&#123;4, 5, 6&#125;</span><br><span class="line">	fmt.Println(&quot;numArr2&#x3D;&quot;, numArr2)</span><br><span class="line"></span><br><span class="line">	var numArr3 &#x3D; [...]int&#123;7, 8, 9&#125;</span><br><span class="line">	fmt.Println(&quot;numArr3&#x3D;&quot;, numArr3)</span><br><span class="line"></span><br><span class="line">	var numArr4 &#x3D; [...]int&#123;1: 10, 0: 20, 2: 30&#125;</span><br><span class="line">	fmt.Println(&quot;numArr4&#x3D;&quot;, numArr4)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;类型推导</span><br><span class="line">	var numArr5 &#x3D; [...]string&#123;1: &quot;tom&quot;, 0: &quot;jack&quot;, 2: &quot;lucy&quot;&#125;</span><br><span class="line">	fmt.Println(&quot;numArr5&#x3D;&quot;, numArr5)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="for-range-结构遍历"><a href="#for-range-结构遍历" class="headerlink" title="for-range 结构遍历"></a>for-range 结构遍历</h2><p>这是 Go 语言一种独有的结构，可以用来遍历访问数组的元素。</p>
<p>for–range基本语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for  index, value :&#x3D; range array01 &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>说明：</p>
<p>1、第一个返回值index是数组的下标</p>
<p>2、第二个value是在该下标位置的值</p>
<p>3、都是仅在for循环内部可见的局部标量</p>
<p>4、遍历数组元素的时候，如果不想使用下标index，可以直接把下标index标位下划线_</p>
<p>5、index和value的名称不是固定的，即程序员可以自行制定，一般命名为index和value</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var num &#x3D; [...]string&#123;&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;&#125;</span><br><span class="line">	for index, value :&#x3D; range num &#123;</span><br><span class="line">		fmt.Printf(&quot;index&#x3D;%v\nvalue&#x3D;%v\n&quot;, index, value)</span><br><span class="line">		fmt.Printf(&quot;num[%d]&#x3D;%v\n&quot;, index, num[index])</span><br><span class="line">	&#125;</span><br><span class="line">	for index, _ :&#x3D; range num &#123;</span><br><span class="line">		fmt.Printf(&quot;num[%d]&#x3D;%v\n&quot;, index, num[index])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数组使用注意事项和细节"><a href="#数组使用注意事项和细节" class="headerlink" title="数组使用注意事项和细节"></a>数组使用注意事项和细节</h2><ol>
<li><p>数组是多个相同类型数据的组合,一个数组一旦声明/定义了,其长度是固定的, 不能动态变化</p>
</li>
<li><p>var arr []int 这时 arr 就是一个 slice 切片</p>
</li>
<li><p>数组中的元素可以是任何数据类型，包括值类型和引用类型，但是不能混用。</p>
</li>
<li><p>数组创建后，如果没有赋值，有默认值(零值)</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数值类型数组：默认值为 0</span><br><span class="line">字符串数组： 默认值为 &quot;&quot;</span><br><span class="line">bool 数组： 默认值为 false</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>使用数组的步骤</li>
</ol>
<ol>
<li>声明数组并开辟空间</li>
<li>给数组各个元素赋值(默认零值)</li>
<li>使用数组</li>
</ol>
<ol start="6">
<li><p>数组的下标是从 0 开始的</p>
</li>
<li><p>数组下标必须在指定范围内使用，否则报 panic：数组越界，比如</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var arr [5]int 则有效下标为 0-4</span><br></pre></td></tr></table></figure>
<ol start="8">
<li>Go 的数组属值类型， 在默认情况下是值传递， 因此会进行值拷贝。数组间不会相互影响</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test01(arr [3]int) &#123;</span><br><span class="line">	arr[0] &#x3D; 33</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var arr [3]int &#x3D; [3]int&#123;2, 44, 55&#125;</span><br><span class="line">	test01(arr)</span><br><span class="line">	fmt.Println(&quot;arr&#x3D;&quot;, arr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="9">
<li>如想在其它函数中，去修改原来的数组，可以使用引用传递(指针方式)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test02(arr *[3]int) &#123;</span><br><span class="line">	(*arr)[0] &#x3D; 33</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var arr [3]int &#x3D; [3]int&#123;2, 44, 55&#125;</span><br><span class="line">	test02(&amp;arr)</span><br><span class="line">	fmt.Println(&quot;arr&#x3D;&quot;, arr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="10">
<li>长度是数组类型的一部分，在传递函数参数时 需要考虑数组的长度</li>
</ol>
<h2 id="数组的应用案例"><a href="#数组的应用案例" class="headerlink" title="数组的应用案例"></a>数组的应用案例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;创建一个 byte 类型的 26 个元素的数组，分别 放置&#39;A&#39;-&#39;Z‘。使用 for 循环访问所有元素并打印</span><br><span class="line">&#x2F;&#x2F;出来。提示：字符数据运算 &#39;A&#39;+1 -&gt; &#39;B&#39;</span><br><span class="line">&#x2F;&#x2F;思路：</span><br><span class="line">&#x2F;&#x2F;定义一个byte类型的数组 var num [26]byte</span><br><span class="line">&#x2F;&#x2F;使用for循环打印运算 &#39;A&#39;+1 -&gt; &#39;B&#39;</span><br><span class="line">&#x2F;&#x2F;使用for打印</span><br><span class="line">func main() &#123;</span><br><span class="line">	var num [26]byte</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(num); i++ &#123;</span><br><span class="line">		num[i] &#x3D; &#39;A&#39; + byte(i) &#x2F;&#x2F;i是int类型，需要转换成byte类型</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	for i :&#x3D; 0; i &lt; len(num); i++ &#123;</span><br><span class="line">		fmt.Printf(&quot;%c &quot;, num[i])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 请求出一个数组的最大值，并得到对应的下标</span><br><span class="line">&#x2F;&#x2F;思路</span><br><span class="line">&#x2F;&#x2F;先定义一个数组，假定第一个数最大，然后和每个数进行对比，比第一个大的数就替换</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var num [5]int &#x3D; [5]int&#123;3, 5543, 676, 66, 22&#125;</span><br><span class="line">	maxnum :&#x3D; num[0] &#x2F;&#x2F;假定第一个数最大</span><br><span class="line">	value :&#x3D; 0       &#x2F;&#x2F;第一个数的下标为0</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(num); i++ &#123;</span><br><span class="line">		if maxnum &lt; num[i] &#123;</span><br><span class="line">			maxnum &#x3D; num[i]</span><br><span class="line">			value &#x3D; i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(&quot;maxnum&#x3D;%v\nvalue&#x3D;%v\n&quot;, maxnum, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 请求出一个数组的和和平均值。for-range</span><br><span class="line">&#x2F;&#x2F;思路</span><br><span class="line">&#x2F;&#x2F;先声明一个数组，先求出和，再求出平均值</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var num &#x3D; [...]int&#123;33, 44, 55, 67, 77&#125;</span><br><span class="line">	totolnum :&#x3D; 0</span><br><span class="line">	for _, value :&#x3D; range num &#123;</span><br><span class="line">		totolnum +&#x3D; value</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(&quot;和&#x3D;%v\n平均值是&#x3D;%v\n&quot;, totolnum, float64(totolnum)&#x2F;float64(5)) &#x2F;&#x2F;整除后未保留小数点后，需要转换类型</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;math&#x2F;rand&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 要求：随机生成五个数，并将其反转打印 , 复杂应用.</span><br><span class="line">&#x2F;&#x2F;思路</span><br><span class="line">&#x2F;&#x2F;1、随机生成五个数，rand.Intn()函数</span><br><span class="line">&#x2F;&#x2F;2、当得到随机数后，就放到一个数组</span><br><span class="line">&#x2F;&#x2F;3、反转打印，交换的次数len &#x2F; 2,倒数第一个和第一个交换，倒数第二个和第二个交换</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var num [5]int</span><br><span class="line">	len :&#x3D; len(num)   &#x2F;&#x2F;使用变量替换更加简洁</span><br><span class="line">	rand.Seed(time.Now().UnixNano()) &#x2F;&#x2F;需要使用Seed让每次生成的值不一样</span><br><span class="line">	&#x2F;&#x2F;UnixNano精确到纳秒，随机数不会相同，每秒的话可能会重复</span><br><span class="line">	for i :&#x3D; 0; i &lt; len; i++ &#123;</span><br><span class="line">		num[i] &#x3D; rand.Intn(100) &#x2F;&#x2F; 0 &lt;&#x3D; i &lt; 100</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(&quot;交换前&#x3D;&quot;, num)</span><br><span class="line"></span><br><span class="line">	temp :&#x3D; 0 &#x2F;&#x2F;临时变量</span><br><span class="line">	for i :&#x3D; 0; i &lt; len&#x2F;2; i++ &#123;</span><br><span class="line">		temp &#x3D; num[len-1-i]  &#x2F;&#x2F;倒数的数保存到一个变量</span><br><span class="line">		num[len-1-i] &#x3D; num[i]   &#x2F;&#x2F;再将正数的第n个数赋值到倒数的第n个数</span><br><span class="line">		num[i] &#x3D; temp    &#x2F;&#x2F;将倒数的值给相对应正数的值</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(&quot;交换后&#x3D;&quot;, num)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h2><h3 id="使用方式-1"><a href="#使用方式-1" class="headerlink" title="使用方式 1"></a>使用方式 1</h3><p>先声明/定义,再赋值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">语法: var 数组名 [大小][大小]类型</span><br><span class="line"></span><br><span class="line">比如: var arr [2][3]int ， 再赋值。</span><br></pre></td></tr></table></figure>
<p>使用演示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var arr [4][6]int</span><br><span class="line">	arr[0][3] &#x3D; 1</span><br><span class="line">	arr[2][2] &#x3D; 2</span><br><span class="line">	arr[3][5] &#x3D; 3</span><br><span class="line"></span><br><span class="line">	for i :&#x3D; 0; i &lt; len(arr); i++ &#123;</span><br><span class="line">		for j :&#x3D; 0; j &lt; len(arr[i]); j++ &#123;</span><br><span class="line">			fmt.Print(arr[i][j], &quot; &quot;)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>二维数组在内存的存在形式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var arr [2][3]int</span><br><span class="line">	arr[1][1] &#x3D; 10</span><br><span class="line">	fmt.Println(arr)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;arr[0]和arr[1]相差24个字节，刚好是三个int的长度，一个int8字节(十六进制)</span><br><span class="line">	fmt.Printf(&quot;arr[0]地址是%p\n&quot;, &amp;arr[0])</span><br><span class="line">	fmt.Printf(&quot;arr[1]地址是%p\n&quot;, &amp;arr[1])</span><br><span class="line"></span><br><span class="line">	fmt.Printf(&quot;arr[0][0]地址是%p\n&quot;, &amp;arr[0][0])</span><br><span class="line">	fmt.Printf(&quot;arr[1][0]地址是%p\n&quot;, &amp;arr[1][0])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="使用方式-2"><a href="#使用方式-2" class="headerlink" title="使用方式 2"></a>使用方式 2</h3><p>直接初始化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">声明：var 数组名 [大小][大小]类型 &#x3D; [大小][大小]类型&#123;&#123;初值..&#125;,&#123;初值..&#125;&#125;</span><br><span class="line"></span><br><span class="line">赋值(有默认值，比如 int 类型的就是 0)</span><br></pre></td></tr></table></figure>
<p>使用演示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var arr [2][3]int &#x3D; [2][3]int&#123;&#123;1, 2, 3&#125;, &#123;4, 5, 6&#125;&#125;</span><br><span class="line">	fmt.Println(arr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>说明：二维数组在声明/定义时也对应有四种写法[和一维数组类似]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var 数组名 [大小][大小]类型 &#x3D; [...][大小]类型&#123;&#123;初值..&#125;,&#123;初值..&#125;&#125;</span><br><span class="line"></span><br><span class="line">var 数组名 &#x3D; [大小][大小]类型&#123;&#123;初值..&#125;,&#123;初值..&#125;&#125;</span><br><span class="line"></span><br><span class="line">var 数组名 &#x3D; [...][大小]类型&#123;&#123;初值..&#125;,&#123;初值..&#125;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二维数组的遍历"><a href="#二维数组的遍历" class="headerlink" title="二维数组的遍历"></a>二维数组的遍历</h3><p>双层 for 循环完成遍历</p>
<p>for-range 方式完成遍历</p>
<p>案例演示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var arr [2][3]int &#x3D; [2][3]int&#123;&#123;1, 2, 3&#125;, &#123;4, 5, 6&#125;&#125;</span><br><span class="line"></span><br><span class="line">	for i :&#x3D; 0; i &lt; len(arr); i++ &#123;</span><br><span class="line">		for j :&#x3D; 0; j &lt; len(arr[i]); j++ &#123;</span><br><span class="line">			fmt.Printf(&quot;%v\t&quot;, arr[i][j])</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	for i, v :&#x3D; range arr &#123;   &#x2F;&#x2F;v是一个一维数组，不是一个具体的值</span><br><span class="line">		for i2, v2 :&#x3D; range v &#123;</span><br><span class="line">			fmt.Printf(&quot;arr[%v][%v]&#x3D;%v\n&quot;, i, i2, v2)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;定义二维数组，用于保存三个班，每个班五名同学成绩，</span><br><span class="line">	&#x2F;&#x2F;并求出每个班级平均分、以及所有班级平均分</span><br><span class="line">	var arr [3][3]float64</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(arr); i++ &#123;</span><br><span class="line">		for j :&#x3D; 0; j &lt; len(arr[i]); j++ &#123;</span><br><span class="line">			fmt.Printf(&quot;请输入第%v个班的第%v个学生的成绩\n&quot;, i+1, j+1) &#x2F;&#x2F;不能是第0个班和第0个学生</span><br><span class="line">			fmt.Scanln(&amp;arr[i][j])</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	totolsum :&#x3D; 0.0 &#x2F;&#x2F;接收总成绩</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(arr); i++ &#123;</span><br><span class="line">		sum :&#x3D; 0.0    &#x2F;&#x2F;接收每个班的总成绩</span><br><span class="line">		for j :&#x3D; 0; j &lt; len(arr[i]); j++ &#123;</span><br><span class="line">			sum +&#x3D; arr[i][j]</span><br><span class="line">		&#125;</span><br><span class="line">		totolsum +&#x3D; sum</span><br><span class="line">		fmt.Printf(&quot;第%v个班的总成绩为%v,平均分为%v\n&quot;, i+1, sum, sum&#x2F;float64(len(arr[i])))</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(&quot;所有班得总成绩为%v,所有班得平均分为%v\n&quot;, totolsum, totolsum&#x2F;float64(3))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h2><h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>​    排序是将一组数据，依指定的顺序进行排列的过程</p>
<h3 id="排序的分类"><a href="#排序的分类" class="headerlink" title="排序的分类"></a>排序的分类</h3><p>1、内部排序：指将需要进行出理的所有数据都加载到内部存储器中进行排序（交换式排序法、选则式排序法、插入式排序法）</p>
<p>2、外部排序法：数据量过大，无法全部加载到内存中，需要借助外部存储进行排序（合并排序法、直接合并排序法）</p>
<h3 id="冒泡排序介绍"><a href="#冒泡排序介绍" class="headerlink" title="冒泡排序介绍"></a>冒泡排序介绍</h3><p>​    通过对待排序序列从后向前（从下标较大的元素开始），依次比较相邻元素的顺序码，若发现逆序则交换，使排序码较小的元素逐渐从后部移向前部（从下标较大的单元移向下标较小的单元），就像水底下的气泡一样逐渐向上冒。</p>
<p>​    因为排序的过程中，各元素不断接近自己的位置，如果一趟比较下来没有进行过交换，就说明序列有序，因此要在排序过程中设置一个标志flag判断元素是否进行过交换，从而减少不必要的比较。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func bubb(arr *[5]int) &#123;</span><br><span class="line">	fmt.Println(&quot;排序前&#x3D;&quot;, (*arr))</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;定义一个变量进行交换</span><br><span class="line">	&#x2F;&#x2F;temp :&#x3D; 0</span><br><span class="line">	&#x2F;&#x2F;需要进行四轮比较，则为函数个数-1</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(*arr)-1; i++ &#123;</span><br><span class="line">		&#x2F;&#x2F;每次比较次数为函数个数-1-进行了比较的轮次</span><br><span class="line">		for j :&#x3D; 0; j &lt; len(*arr)-i-1; j++ &#123;</span><br><span class="line">			if (*arr)[j] &gt; (*arr)[j+1] &#123;</span><br><span class="line">				&#x2F;&#x2F;将数据交换</span><br><span class="line">				(*arr)[j], (*arr)[j+1] &#x3D; (*arr)[j+1], (*arr)[j]</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;定义一个数组</span><br><span class="line">	var arr [5]int &#x3D; [5]int&#123;24, 69, 80, 57, 13&#125;</span><br><span class="line">	bubb(&amp;arr)</span><br><span class="line">	fmt.Println(&quot;排序后&#x3D;&quot;, arr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数组查找"><a href="#数组查找" class="headerlink" title="数组查找"></a>数组查找</h2><p>在 Golang 中，我们常用的查找有两种:</p>
<h3 id="1-顺序查找"><a href="#1-顺序查找" class="headerlink" title="1)  顺序查找"></a>1)  顺序查找</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;有一个数列：白眉鹰王、金毛狮王、紫衫龙王、青翼蝠王</span><br><span class="line">&#x2F;&#x2F;猜数游戏：从键盘中任意输入一个名称，判断数列中是否包含此名称</span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;思路：定义一个字符串数组，依次进行比较</span><br><span class="line">	var names [4]string &#x3D; [4]string&#123;&quot;白眉鹰王&quot;, &quot;金毛狮王&quot;, &quot;紫衫龙王&quot;, &quot;青翼蝠王&quot;&#125;</span><br><span class="line">	var heroname &#x3D; &quot;&quot;</span><br><span class="line">	fmt.Println(&quot;请输入名字:&quot;, heroname)</span><br><span class="line">	fmt.Scanln(&amp;heroname)</span><br><span class="line"></span><br><span class="line">	for i :&#x3D; 0; i &lt; len(names); i++ &#123;</span><br><span class="line">		if heroname &#x3D;&#x3D; names[i] &#123;</span><br><span class="line">			fmt.Printf(&quot;找到名字为%v\n下标为%v\n&quot;, heroname, i)</span><br><span class="line">			break</span><br><span class="line">		&#125; else if i &#x3D;&#x3D; (len(names) - 1) &#123;</span><br><span class="line">			fmt.Println(&quot;没有找到&quot;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;有一个数列：白眉鹰王、金毛狮王、紫衫龙王、青翼蝠王</span><br><span class="line">&#x2F;&#x2F;猜数游戏：从键盘中任意输入一个名称，判断数列中是否包含此名称</span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;思路：定义一个字符串数组，依次进行比较</span><br><span class="line">	var names [4]string &#x3D; [4]string&#123;&quot;白眉鹰王&quot;, &quot;金毛狮王&quot;, &quot;紫衫龙王&quot;, &quot;青翼蝠王&quot;&#125;</span><br><span class="line">	var heroname &#x3D; &quot;&quot;</span><br><span class="line">	fmt.Println(&quot;请输入名字:&quot;, heroname)</span><br><span class="line">	fmt.Scanln(&amp;heroname)</span><br><span class="line"></span><br><span class="line">	index :&#x3D; -1</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(names); i++ &#123;</span><br><span class="line">		if heroname &#x3D;&#x3D; names[i] &#123;</span><br><span class="line">			index &#x3D; i</span><br><span class="line">			break</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if index !&#x3D; -1 &#123;</span><br><span class="line">		fmt.Printf(&quot;找到了名字为%v 下标为%v&quot;, heroname, index)</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		fmt.Println(&quot;没有找到&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-二分查找-该数组是有序"><a href="#2-二分查找-该数组是有序" class="headerlink" title="2)  二分查找(该数组是有序)"></a>2)  二分查找(该数组是有序)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">二分查找的思路: 比如我们要查找的数是 findVal</span><br><span class="line">1. arr 是一个有序数组，并且是从小到大排序</span><br><span class="line">2. 先找到 中间的下标 middle :&#x3D; ((leftIndex + rightIndex) + 1) &#x2F; 2, 然后让 中间下标的值和 findVal 进行</span><br><span class="line">比较</span><br><span class="line">2.1 如果 arr[middle] &gt; findVal , 就应该向 leftIndex ---- middle</span><br><span class="line">2.2 如果 arr[middle] &lt; findVal , 就应该向 middel---- rightIndex</span><br><span class="line">2.3 如果 arr[middle] &#x3D;&#x3D; findVal ， 就找到</span><br><span class="line">2.4 上面的 2.1 2.2 2.3 的逻辑会递归执行</span><br><span class="line">3. 想一下，怎么样的情况下，就说明找不到[分析出退出递归的条件!!]</span><br><span class="line">if leftIndex &gt; rightIndex &#123;</span><br><span class="line">&#x2F;&#x2F; 找不到..</span><br><span class="line">return ..</span><br><span class="line">&#125;</span><br><span class="line">*&#x2F;</span><br><span class="line">func BinaryFind(arr *[7]int, leftIndex int, rightIndex int, findVal int) &#123;</span><br><span class="line">	&#x2F;&#x2F;判断leftIndex是否大于rightIndex</span><br><span class="line">	if leftIndex &gt; rightIndex &#123;</span><br><span class="line">		fmt.Println(&quot;找不到&quot;)</span><br><span class="line">		return</span><br><span class="line">	&#125;</span><br><span class="line">	middle :&#x3D; ((leftIndex + rightIndex) + 1) &#x2F; 2</span><br><span class="line">	if arr[middle] &gt; findVal &#123;</span><br><span class="line">		BinaryFind(arr, leftIndex, middle, findVal)</span><br><span class="line">	&#125; else if arr[middle] &lt; findVal &#123;</span><br><span class="line">		BinaryFind(arr, middle, leftIndex, findVal)</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		fmt.Printf(&quot;找到了&#x3D;%v  下标为%v&quot;, findVal, middle)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">	arr :&#x3D; [7]int&#123;1, 8, 10, 89, 1000, 1234, 3234&#125;</span><br><span class="line">	BinaryFind(&amp;arr, 0, len(arr)-1, 10)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">二分查找的思路: 比如我们要查找的数是 findVal</span><br><span class="line">1. arr 是一个有序数组，并且是从小到大排序</span><br><span class="line">2. 先找到 中间的下标 middle &#x3D; (leftIndex + rightIndex) &#x2F; 2, 然后让 中间下标的值和 findVal 进行</span><br><span class="line">比较</span><br><span class="line">2.1 如果 arr[middle] &gt; findVal , 就应该向 leftIndex ---- (middle - 1)</span><br><span class="line">2.2 如果 arr[middle] &lt; findVal , 就应该向 middel+1---- rightIndex</span><br><span class="line">2.3 如果 arr[middle] &#x3D;&#x3D; findVal ， 就找到</span><br><span class="line">2.4 上面的 2.1 2.2 2.3 的逻辑会递归执行</span><br><span class="line">3. 想一下，怎么样的情况下，就说明找不到[分析出退出递归的条件!!]</span><br><span class="line">if leftIndex &gt; rightIndex &#123;</span><br><span class="line">&#x2F;&#x2F; 找不到..</span><br><span class="line">return ..</span><br><span class="line">&#125;</span><br><span class="line">*&#x2F;</span><br><span class="line">func BinaryFind(arr *[6]int, leftIndex int, rightIndex int, findVal int) &#123;</span><br><span class="line">	&#x2F;&#x2F;判断leftIndex是否大于rightIndex</span><br><span class="line">	if leftIndex &gt; rightIndex &#123;</span><br><span class="line">		fmt.Println(&quot;找不到&quot;)</span><br><span class="line">		return</span><br><span class="line">	&#125;</span><br><span class="line">	middle :&#x3D; (leftIndex + rightIndex) &#x2F; 2</span><br><span class="line">	if arr[middle] &gt; findVal &#123;</span><br><span class="line">		BinaryFind(arr, leftIndex, middle-1, findVal)</span><br><span class="line">	&#125; else if arr[middle] &lt; findVal &#123;</span><br><span class="line">		BinaryFind(arr, middle, leftIndex+1, findVal)</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		fmt.Printf(&quot;找到了&#x3D;%v  下标为%v&quot;, findVal, middle)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">	arr :&#x3D; [6]int&#123;1, 8, 10, 89, 1000, 1234&#125;</span><br><span class="line">	BinaryFind(&amp;arr, 0, len(arr)-1, 10)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/14/Jenkins%E9%9B%86%E6%88%90%E9%92%89%E9%92%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/bb.jpg">
      <meta itemprop="name" content="羊皮裘老头">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="羊皮裘老头">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 羊皮裘老头">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/14/Jenkins%E9%9B%86%E6%88%90%E9%92%89%E9%92%89/" class="post-title-link" itemprop="url">Jenkins集成钉钉</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-14 14:47:36" itemprop="dateCreated datePublished" datetime="2021-04-14T14:47:36+08:00">2021-04-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-17 17:07:34" itemprop="dateModified" datetime="2022-04-17T17:07:34+08:00">2022-04-17</time>
    </span>

  
    <span id="/2021/04/14/Jenkins%E9%9B%86%E6%88%90%E9%92%89%E9%92%89/" class="post-meta-item leancloud_visitors" data-flag-title="Jenkins集成钉钉" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="1、获取钉钉token"><a href="#1、获取钉钉token" class="headerlink" title="1、获取钉钉token"></a>1、获取钉钉token</h2><p>​        在钉钉群助手添加自定义机器人，加密方式采用的是关键字，然后保存获得的token</p>
<h2 id="2、Jenkins安装钉钉插件"><a href="#2、Jenkins安装钉钉插件" class="headerlink" title="2、Jenkins安装钉钉插件"></a>2、Jenkins安装钉钉插件</h2><p><img src="https://yangpiqiulaotou.oss-cn-hangzhou.aliyuncs.com/images/image-20210414143558023.png" alt="image-20210414143558023"></p>
<p>然后在系统配置里添加钉钉连接方式</p>
<p><img src="https://yangpiqiulaotou.oss-cn-hangzhou.aliyuncs.com/images/image-20210414143713254.png" alt="image-20210414143713254"></p>
<p>找到钉钉配置</p>
<p><img src="https://yangpiqiulaotou.oss-cn-hangzhou.aliyuncs.com/images/image-20210414143854220.png" alt="image-20210414143854220"></p>
<p>通知时机这里是选择默认的，根据自己需求选择，ID和名称随便填写，webhook填写在钉钉保存的token，关键字填在钉钉上配置的，最后测试成功即可</p>
<p><img src="https://yangpiqiulaotou.oss-cn-hangzhou.aliyuncs.com/images/image-20210414144226751.png" alt="image-20210414144226751"></p>
<p><strong>在项目中配置，比如在系统配置的时候我只选择了构建失败通知，那么在项目中默认会勾选构建失败时通知，如果还需要其他的可自行勾选。</strong></p>
<p><img src="https://yangpiqiulaotou.oss-cn-hangzhou.aliyuncs.com/images/image-20210414144501594.png" alt="image-20210414144501594"></p>
<p>发布成功的截图</p>
<p>钉钉插件官网地址：<a target="_blank" rel="noopener" href="https://jenkinsci.github.io/dingtalk-plugin/guide/getting-started.html">https://jenkinsci.github.io/dingtalk-plugin/guide/getting-started.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/12/Go%E8%AF%AD%E8%A8%80%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/bb.jpg">
      <meta itemprop="name" content="羊皮裘老头">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="羊皮裘老头">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 羊皮裘老头">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/12/Go%E8%AF%AD%E8%A8%80%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">Go语言系统函数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-12 15:32:04" itemprop="dateCreated datePublished" datetime="2021-04-12T15:32:04+08:00">2021-04-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-17 17:07:34" itemprop="dateModified" datetime="2022-04-17T17:07:34+08:00">2022-04-17</time>
    </span>

  
    <span id="/2021/04/12/Go%E8%AF%AD%E8%A8%80%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0/" class="post-meta-item leancloud_visitors" data-flag-title="Go语言系统函数" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="1、字符串常用的系统函数"><a href="#1、字符串常用的系统函数" class="headerlink" title="1、字符串常用的系统函数"></a>1、字符串常用的系统函数</h2><ol>
<li>统计字符串的长度，按字节 len(str)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; &quot;helloword&quot;</span><br><span class="line">	fmt.Println(&quot;str len&#x3D;&quot;, len(str))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>字符串遍历，同时处理有中文的问题 str2 := []rune(str1)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str1 :&#x3D; &quot;hello地球&quot;</span><br><span class="line">	str2 :&#x3D; []rune(str1)</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(str2); i++ &#123;</span><br><span class="line">		fmt.Printf(&quot;字符&#x3D;%c\n&quot;, str2[i])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>字符串转整数: n, err := strconv.Atoi(“12”)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strconv&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	n, err :&#x3D; strconv.Atoi(&quot;123&quot;)</span><br><span class="line">	if err !&#x3D; nil &#123;</span><br><span class="line">		fmt.Println(&quot;转换错误&quot;, err)</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		fmt.Println(&quot;转换成功，结果是&quot;, n)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>整数转字符串 str = strconv.Itoa(12345)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strconv&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strconv.Itoa(12334)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\nstr&#x3D;%T\n&quot;, str, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>字符串 转 字节: var bytes = []byte(“hello go”)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	_ &quot;strconv&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var bytes &#x3D; []byte(&quot;helloword&quot;)</span><br><span class="line">	fmt.Printf(&quot;bytes&#x3D;%v\n&quot;, bytes)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>字节 转 字符串: str = string([]byte{97, 98, 99})</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	_ &quot;strconv&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; string([]byte&#123;97, 98, 99&#125;)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>10 进制转 2, 8, 16 进制: str = strconv.FormatInt(123, 2)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strconv&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strconv.FormatInt(123, 2)</span><br><span class="line">	fmt.Printf(&quot;二进制是:%v\n&quot;, str)</span><br><span class="line">	sum :&#x3D; strconv.FormatInt(123, 16)</span><br><span class="line">	fmt.Printf(&quot;十六进制是:%v\n&quot;, sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="8">
<li>查找子串是否在指定的字符串中: strings.Contains(“seafood”, “foo”)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.Contains(&quot;helloworld&quot;, &quot;ll&quot;)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="9">
<li>统计一个字符串有几个指定的子串 ： strings.Count(“ceheese”, “e”)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.Count(&quot;helloworld&quot;, &quot;l&quot;)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="10">
<li>不区分大小写的字符串比较(==是区分字母大小写的): fmt.Println(strings.EqualFold(“abc”,”Abc”))</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.EqualFold(&quot;hello&quot;, &quot;HEllo&quot;)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line"></span><br><span class="line">	fmt.Println(&quot;结果是:&quot;, &quot;hello&quot; &#x3D;&#x3D; &quot;HEllo&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="11">
<li>返回子串在字符串第一次出现的 index 值，如果没有返回-1 : strings.Index(“NLT_abc”, “abc”)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.Index(&quot;KLJSs_abcabcabc&quot;, &quot;abc&quot;)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="12">
<li>返回子串在字符串最后一次出现的 index，如没有返回-1 : strings.LastIndex(“go golang”, “go”)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.LastIndex(&quot;go goyes  gono&quot;, &quot;go&quot;)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="13">
<li>将指定的子串替换成 另外一个子串: strings.Replace(“go go hello”, “go”, “go 语言”, n) n 可以指定你希望替换几个，如果 n=-1 表示全部替换</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.Replace(&quot;go goyes  gono&quot;, &quot;go&quot;, &quot;火星&quot;, 1)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line"></span><br><span class="line">	str1 :&#x3D; &quot;go goyes  gono&quot;</span><br><span class="line">	str2 :&#x3D; strings.Replace(str1, &quot;go&quot;, &quot;中国&quot;, 2)</span><br><span class="line">	fmt.Printf(&quot;str1&#x3D;%v\nstr2&#x3D;%v\n&quot;, str1, str2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="14">
<li>按 照 指 定 的 某 个 字 符 ， 为 分 割 标 识 ， 将 一 个 字 符 串 拆 分 成  字 符 串 数 组 ：strings.Split(“hello,wrold,ok”, “,”)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.Split(&quot;hello,yes,no,ok&quot;, &quot;,&quot;)</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(str); i++ &#123;</span><br><span class="line">		fmt.Printf(&quot;str[%v]&#x3D;%v\n&quot;, i, str[i])</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="15">
<li>将字符串的字母进行大小写的转换: strings.ToLower(“Go”) // go strings.ToUpper(“Go”)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; &quot;Golang Hello&quot;</span><br><span class="line">	str1 :&#x3D; strings.ToLower(str)</span><br><span class="line">	str2 :&#x3D; strings.ToUpper(str)</span><br><span class="line">	fmt.Printf(&quot;str1&#x3D;%v\n&quot;, str1)</span><br><span class="line">	fmt.Printf(&quot;str2&#x3D;%v\n&quot;, str2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="16">
<li>将字符串左右两边的空格去掉： strings.TrimSpace(“ tn a lone gopher ntrn “)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.TrimSpace(&quot;   n i  h  ao    &quot;)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%q\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="17">
<li>将字符串左右两边指定的字符去掉 ： strings.Trim(“! hello! “, “ !”) // [“hello”] //将左右两边 !和 “ “去掉</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.Trim(&quot; !  n !i  !h  ao    !&quot;, &quot; !n&quot;)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%q\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="18">
<li><p>将字符串左边指定的字符去掉 ： strings.TrimLeft(“! hello! “, “ !”) // [“hello”] //将左边 ! 和 “”去掉</p>
</li>
<li><p>将字符串右边指定的字符去掉 ：strings.TrimRight(“! hello! “, “ !”) // [“hello”] //将右边 ! 和 “”去掉</p>
</li>
<li><p>判断字符串是否以指定的字符串开头: strings.HasPrefix(“<a href="ftp://192.168.10.1&quot;/">ftp://192.168.10.1&quot;</a>, “ftp”)</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.HasPrefix(&quot;ftp:&#x2F;&#x2F;192.168.0.1&quot;, &quot;https&quot;)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="21">
<li>判断字符串是否以指定的字符串结束: strings.HasSuffix(“NLT_abc.jpg”, “abc”)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	str :&#x3D; strings.HasSuffix(&quot;ftp:&#x2F;&#x2F;192.168.0.1&quot;, &quot;1&quot;)</span><br><span class="line">	fmt.Printf(&quot;str&#x3D;%v\n&quot;, str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2、时间和日期相关函数"><a href="#2、时间和日期相关函数" class="headerlink" title="2、时间和日期相关函数"></a>2、时间和日期相关函数</h2><h3 id="基本的介绍"><a href="#基本的介绍" class="headerlink" title="基本的介绍"></a>基本的介绍</h3><p>说明：在编程中，程序员会经常使用到日期相关的函数，比如：统计某段代码执行花费的时间等等。</p>
<h3 id="1-时间和日期相关函数，需要导入-time-包"><a href="#1-时间和日期相关函数，需要导入-time-包" class="headerlink" title="1) 时间和日期相关函数，需要导入 time 包"></a>1) 时间和日期相关函数，需要导入 time 包</h3><p><img src="https://yangpiqiulaotou.oss-cn-hangzhou.aliyuncs.com/images/image-20200928104129878.png" alt="image-20200928104129878"></p>
<h3 id="2-time-Time-类型，用于表示时间"><a href="#2-time-Time-类型，用于表示时间" class="headerlink" title="2) time.Time 类型，用于表示时间"></a>2) time.Time 类型，用于表示时间</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	now :&#x3D; time.Now()</span><br><span class="line">	fmt.Printf(&quot;now&#x3D;%v\nnow type&#x3D;%T\n&quot;, now, now)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-如何获取到其它的日期信息"><a href="#3-如何获取到其它的日期信息" class="headerlink" title="3) 如何获取到其它的日期信息"></a>3) 如何获取到其它的日期信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	now :&#x3D; time.Now()</span><br><span class="line">	fmt.Printf(&quot;now&#x3D;%v\nnow type&#x3D;%T\n&quot;, now, now)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;获取年月日</span><br><span class="line">	fmt.Printf(&quot;年&#x3D;%v\n&quot;, now.Year())</span><br><span class="line">	fmt.Printf(&quot;月&#x3D;%v\n&quot;, now.Month())</span><br><span class="line">	fmt.Printf(&quot;日&#x3D;%v\n&quot;, now.Day())</span><br><span class="line">	fmt.Printf(&quot;时&#x3D;%v\n&quot;, now.Hour())</span><br><span class="line">	fmt.Printf(&quot;分&#x3D;%v\n&quot;, now.Minute())</span><br><span class="line">	fmt.Printf(&quot;秒&#x3D;%v\n&quot;, now.Second())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-格式化日期时间"><a href="#4-格式化日期时间" class="headerlink" title="4) 格式化日期时间"></a>4) 格式化日期时间</h3><p>方式 1: 就是使用 Printf 或者 SPrintf</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	now :&#x3D; time.Now()</span><br><span class="line">	fmt.Printf(&quot;当前年月日 %d-%d-%d %d:%d:%d\n&quot;, now.Year(),</span><br><span class="line">		now.Month(), now.Day(), now.Hour(), now.Minute(), now.Second())</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;使用函数接收</span><br><span class="line">	dataStr :&#x3D; fmt.Sprintf(&quot;当前年月日 %d-%d-%d %d:%d:%d\n&quot;, now.Year(),</span><br><span class="line">		now.Month(), now.Day(), now.Hour(), now.Minute(), now.Second())</span><br><span class="line">	fmt.Printf(&quot;dataStr&#x3D;%v\n&quot;, dataStr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方式2: 使用 time.Format() 方法完成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	now :&#x3D; time.Now()</span><br><span class="line">	fmt.Printf(now.Format(&quot;2006-01-02 15:04:05\n&quot;))</span><br><span class="line">	fmt.Printf(now.Format(&quot;2006\n&quot;))</span><br><span class="line">	fmt.Printf(now.Format(&quot;02\n&quot;))</span><br><span class="line">	fmt.Printf(now.Format(&quot;05\n&quot;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对上面代码的说明:</p>
<p>“2006/01/02 15:04:05” 这个字符串的各个数字是固定的，必须是这样写。</p>
<p>“2006/01/02 15:04:05” 这个字符串各个数字可以自由的组合，这样可以按程序需求来返回时间和日期</p>
<h3 id="5-时间的常量"><a href="#5-时间的常量" class="headerlink" title="5) 时间的常量"></a>5) 时间的常量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const (</span><br><span class="line">	Nanosecond Duration &#x3D; 1 &#x2F;&#x2F;纳秒</span><br><span class="line">	Microsecond         &#x3D; 1000 * Nanosecond &#x2F;&#x2F;微秒</span><br><span class="line">	Millisecond         &#x3D; 1000 * Microsecond &#x2F;&#x2F;毫秒</span><br><span class="line">	Second              &#x3D; 1000 * Millisecond &#x2F;&#x2F;秒</span><br><span class="line">	Minute              &#x3D; 60 * Second &#x2F;&#x2F;分钟</span><br><span class="line">	Hour                &#x3D; 60 * Minute &#x2F;&#x2F;小时</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>常量的作用: 在程序中可用于获取指定时间单位的时间，比如想得到 100  毫秒</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">100 * time. Millisecond</span><br></pre></td></tr></table></figure>
<h3 id="6-结合-Sleep-来使用一下时间常量"><a href="#6-结合-Sleep-来使用一下时间常量" class="headerlink" title="6) 结合 Sleep 来使用一下时间常量"></a>6) 结合 Sleep 来使用一下时间常量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;每隔0.1秒打印一个数字</span><br><span class="line">	i :&#x3D; 0</span><br><span class="line">	for &#123;</span><br><span class="line">		i++</span><br><span class="line">		fmt.Println(i)</span><br><span class="line">		&#x2F;&#x2F;休眠time.Sleep(time.Second)</span><br><span class="line">		time.Sleep(time.Millisecond * 100)</span><br><span class="line">		if i &#x3D;&#x3D; 10 &#123;</span><br><span class="line">			break</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-time-的-Unix-和-UnixNano-的方法"><a href="#7-time-的-Unix-和-UnixNano-的方法" class="headerlink" title="7) time 的 Unix 和 UnixNano 的方法"></a>7) time 的 Unix 和 UnixNano 的方法</h3><p><img src="https://yangpiqiulaotou.oss-cn-hangzhou.aliyuncs.com/images/image-20200928112059925.png" alt="image-20200928112059925"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	now :&#x3D; time.Now()</span><br><span class="line">	fmt.Printf(&quot;unix&#x3D;%v\nunixnano&#x3D;%v\n&quot;, now.Unix(), now.UnixNano())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="实例练习"><a href="#实例练习" class="headerlink" title="实例练习"></a>实例练习</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strconv&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test() &#123;</span><br><span class="line">	str :&#x3D; &quot;&quot;</span><br><span class="line">	for i :&#x3D; 0; i &lt; 10000; i++ &#123;</span><br><span class="line">		str +&#x3D; &quot;hello&quot; + strconv.Itoa(i) &#x2F;&#x2F;转换数据类型为字符串</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;统计函数test03执行的时间</span><br><span class="line">	start :&#x3D; time.Now().UnixNano()</span><br><span class="line">	test()</span><br><span class="line">	end :&#x3D; time.Now().UnixNano()</span><br><span class="line">	fmt.Printf(&quot;耗时&#x3D;%v\n&quot;, end-start)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3、内置函数"><a href="#3、内置函数" class="headerlink" title="3、内置函数"></a>3、内置函数</h2><p>说明：</p>
<p>Golang 设计者为了编程方便，提供了一些函数，这些函数可以直接使用，我们称为 Go 的内置函数。文档：<a target="_blank" rel="noopener" href="https://studygolang.com/pkgdoc">https://studygolang.com/pkgdoc</a> -&gt; builtin</p>
<ol>
<li><p>len：用来求长度，比如 string、array、slice、map、channel</p>
</li>
<li><p>new：用来分配内存，主要用来分配值类型，比如 int、float32,struct…返回的是指针</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	num1 :&#x3D; 100</span><br><span class="line">	fmt.Printf(&quot;num1类型:%T\nnum1的值:%v\nnum1的地址:%v\n&quot;, num1, num1, &amp;num1)</span><br><span class="line"></span><br><span class="line">	num2 :&#x3D; new(int)</span><br><span class="line">	&#x2F;&#x2F;修改num2的值</span><br><span class="line">	*num2 &#x3D; 100</span><br><span class="line">	&#x2F;&#x2F;num2类型为指针类型，默认值为0</span><br><span class="line">	fmt.Printf(&quot;num2类型:%T\nnum2的值:%v\nnum2的地址:%v\nnum2指向的值:%v\n&quot;, num2, num2, &amp;num2, *num2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>make：用来 分配内存，主要用来 分配引用类型，比如 channel、map、slice</li>
</ol>
<h2 id="4、错误处理"><a href="#4、错误处理" class="headerlink" title="4、错误处理"></a>4、错误处理</h2><p>看一段代码，引出错误处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test() &#123;</span><br><span class="line">	n1 :&#x3D; 10</span><br><span class="line">	n2 :&#x3D; 0</span><br><span class="line">	n3 :&#x3D; n1 &#x2F; n2</span><br><span class="line">	fmt.Println(&quot;n3&#x3D;&quot;, n3)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	test()</span><br><span class="line">	fmt.Println(&quot;main()错误代码......&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="对上面代码的总结"><a href="#对上面代码的总结" class="headerlink" title="对上面代码的总结"></a>对上面代码的总结</h3><ol>
<li><p>在默认情况下，当发生错误后(panic) ,程序就会退出（崩溃.）</p>
</li>
<li><p>如果我们希望：当发生错误后，可以捕获到错误，并进行处理，保证程序可以继续执行。还可以在捕获到错误后，给管理员一个提示(邮件,短信。。。）</p>
</li>
<li><p>这里引出我们要将的错误处理机制</p>
</li>
</ol>
<h3 id="基本说明"><a href="#基本说明" class="headerlink" title="基本说明"></a>基本说明</h3><ol>
<li><p>Go 语言追求简洁优雅，所以，Go 语言不支持传统的 try…catch…finally 这种处理。</p>
</li>
<li><p>Go 中引入的处理方式为：defer, panic, recover</p>
</li>
<li><p>这几个异常的使用场景可以这么简单描述：Go 中可以抛出一个 panic 的异常，然后在 defer 中通过 recover 捕获这个异常，然后正常处理</p>
</li>
</ol>
<p>使用 defer+recover 来处理错误</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test() &#123;</span><br><span class="line">	&#x2F;&#x2F;使用defer+recover来捕获和处理错误</span><br><span class="line">	defer func() &#123;</span><br><span class="line">		err :&#x3D; recover() &#x2F;&#x2F;recover()可以捕获到错误</span><br><span class="line">		if err !&#x3D; nil &#123;  &#x2F;&#x2F;说明捕获到了错误</span><br><span class="line">			fmt.Println(&quot;err&#x3D;&quot;, err)</span><br><span class="line">			fmt.Println(&quot;发送邮件给admin@163.com&quot;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line">	n1 :&#x3D; 10</span><br><span class="line">	n2 :&#x3D; 0</span><br><span class="line">	n3 :&#x3D; n1 &#x2F; n2</span><br><span class="line">	fmt.Println(&quot;n3&#x3D;&quot;, n3)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	test()</span><br><span class="line">	fmt.Println(&quot;main()错误代码......&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>进行错误处理后，程序不会轻易挂掉，如果加入预警代码，就可以让程序更加的健壮</p>
<h3 id="自定义错误"><a href="#自定义错误" class="headerlink" title="自定义错误"></a>自定义错误</h3><p>Go 程序中，也支持自定义错误， 使用 errors.New 和 panic 内置函数。</p>
<ol>
<li><p>errors.New(“错误说明”) , 会返回一个 error 类型的值，表示一个错误</p>
</li>
<li><p>panic 内置函数 ,接收一个 interface{}类型的值（也就是任何值了）作为参数。可以接收 error 类型的变量， 输出错误信息， 并退出程序</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;errors&quot;</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func read(name string) (err error) &#123;</span><br><span class="line">	if name &#x3D;&#x3D; &quot;helloword&quot; &#123;</span><br><span class="line">		return nil</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		&#x2F;&#x2F;返回一个自定义错误</span><br><span class="line">		return errors.New(&quot;读取错误。。。&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func test() &#123;</span><br><span class="line">	err :&#x3D; read(&quot;hello&quot;)</span><br><span class="line">	if err !&#x3D; nil &#123;</span><br><span class="line">		&#x2F;&#x2F;读取错误就输出这个错误，并终止程序</span><br><span class="line">		panic(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(&quot;test()继续执行。。。&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	test()</span><br><span class="line">	fmt.Println(&quot;main()错误代码......&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/12/Go%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/bb.jpg">
      <meta itemprop="name" content="羊皮裘老头">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="羊皮裘老头">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 羊皮裘老头">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/12/Go%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Go语言函数使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-12 15:30:44" itemprop="dateCreated datePublished" datetime="2021-04-12T15:30:44+08:00">2021-04-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-17 17:07:33" itemprop="dateModified" datetime="2022-04-17T17:07:33+08:00">2022-04-17</time>
    </span>

  
    <span id="/2021/04/12/Go%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8/" class="post-meta-item leancloud_visitors" data-flag-title="Go语言函数使用" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="1、函数、包和错误处理"><a href="#1、函数、包和错误处理" class="headerlink" title="1、函数、包和错误处理"></a>1、函数、包和错误处理</h2><h3 id="函数的基本概念"><a href="#函数的基本概念" class="headerlink" title="函数的基本概念"></a>函数的基本概念</h3><p>为完成某一功能的程序指令(语句)的集合,称为函数。在 Go 中函数分为: 自定义函数、系统函数</p>
<h3 id="函数的基本语法"><a href="#函数的基本语法" class="headerlink" title="函数的基本语法"></a>函数的基本语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">func  函数名  (形参列表)  (返回值列表) &#123;</span><br><span class="line">	执行语句...</span><br><span class="line">	return  返回值列表</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>说明:</p>
<p>​    1) 形参列表: 表示函数的输入</p>
<p>​    2) 函数中的语句: 表示为了实现某一功能代码块</p>
<p>​    3) 函数可以有返回值,也可以没有</p>
<h3 id="包的基本概念"><a href="#包的基本概念" class="headerlink" title="包的基本概念"></a>包的基本概念</h3><p>说明：go 的每一个文件都是属于一个包的，也就是说 go 是以包的形式来管理文件和项目目录结构的</p>
<h3 id="包的三大作用"><a href="#包的三大作用" class="headerlink" title="包的三大作用"></a>包的三大作用</h3><p>​    1. 区分相同名字的函数、变量等标识符</p>
<p>​    2. 当程序文件很多时,可以很好的管理项目</p>
<p>​    3. 控制函数、变量等访问范围，即作用域</p>
<h3 id="包的相关说明"><a href="#包的相关说明" class="headerlink" title="包的相关说明"></a>包的相关说明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">打包基本语法</span><br><span class="line">package 包名</span><br><span class="line">引入包的基本语法</span><br><span class="line">import &quot;包的路径&quot;</span><br></pre></td></tr></table></figure>
<h3 id="包使用的注意事项和细节讨论"><a href="#包使用的注意事项和细节讨论" class="headerlink" title="包使用的注意事项和细节讨论"></a>包使用的注意事项和细节讨论</h3><ol>
<li><p>在给一个文件打包时，该包对应一个文件夹，比如这里的 utils 文件夹对应的包名就是 utils,文件的包名通常和文件所在的文件夹名一致，一般为小写字母。</p>
</li>
<li><p>当一个文件要使用其它包函数或变量时，需要先引入对应的包</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">引入方式 1：import &quot;包名&quot;</span><br><span class="line"></span><br><span class="line">引入方式 2：</span><br><span class="line">import (</span><br><span class="line">&quot;包名&quot;</span><br><span class="line">&quot;包名&quot;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>package 指令在 文件第一行，然后是 import 指令</p>
<p>在 import 包时，路径从 $GOPATH 的 src 下开始，不用带 src , 编译器会自动从 src 下开始引入</p>
<ol start="3">
<li><p>为了让其它包的文件，可以访问到本包的函数，则该 函数名的首字母需要大写，类似其它语言的 public ,这样才能跨包访问。</p>
</li>
<li><p>在访问其它包函数，变量时，其语法是 包名.函数名， 比如这里的 main.go 文件中</p>
</li>
<li><p>如果包名较长，Go 支持给包取别名， 注意细节：取别名后，原来的包名就不能使用了. 说明: 如果给包取了别名， 则需要使用别名来访问该包的函数和变量</p>
</li>
<li><p>在同一包下，不能有相同的函数名（也不能有相同的全局变量名），否则报重复定义</p>
</li>
<li><p>如果你要编译成一个可执行程序文件，就需要将这个包声明为 main , 即 package main .这个就是一个语法规范，如果你是写一个库 ，包名可以自定义</p>
</li>
</ol>
<h3 id="案例演示"><a href="#案例演示" class="headerlink" title="案例演示"></a>案例演示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line">	&#x2F;&#x2F;请编写要给函数，可以计算两个数的 和和 差，并返回结果</span><br><span class="line">func test(n1 int) &#123;</span><br><span class="line">	n1 &#x3D; n1 + 1</span><br><span class="line">	fmt.Printf(&quot;n1 &#x3D; %v\n&quot;, n1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getSum(n1 int, n2 int) int &#123;</span><br><span class="line">	sum :&#x3D; n1 + n2</span><br><span class="line">	fmt.Println(&quot;getSum sum &#x3D;&quot;, sum)</span><br><span class="line">	return sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	n1 :&#x3D; 11</span><br><span class="line">	&#x2F;&#x2F;调用n1</span><br><span class="line">	test(n1)</span><br><span class="line">	fmt.Println(&quot;main() n1&#x3D;&quot;, n1)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;调用sum</span><br><span class="line">	sum :&#x3D; getSum(20, 20)</span><br><span class="line">	fmt.Println(&quot;main sum&#x3D;&quot;, sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;请编写要给函数，可以计算两个数的 和和 差，并返回结果</span><br><span class="line">func test(n1 int) &#123;</span><br><span class="line">	n1 &#x3D; n1 + 1</span><br><span class="line">	fmt.Printf(&quot;n1 &#x3D; %v\n&quot;, n1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getSum(n1 int, n2 int) int &#123;</span><br><span class="line">	sum :&#x3D; n1 + n2</span><br><span class="line">	fmt.Println(&quot;getSum sum &#x3D;&quot;, sum)</span><br><span class="line">	return sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getSumAndSub(n1 int, n2 int) (int, int) &#123;</span><br><span class="line">	sum :&#x3D; n1 + n2</span><br><span class="line">	sub :&#x3D; n1 - n2</span><br><span class="line">	return sum, sub</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	n1 :&#x3D; 11</span><br><span class="line">	&#x2F;&#x2F;调用n1</span><br><span class="line">	test(n1)</span><br><span class="line">	fmt.Println(&quot;main() n1&#x3D;&quot;, n1)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;调用getSum</span><br><span class="line">	sum :&#x3D; getSum(20, 20)</span><br><span class="line">	fmt.Println(&quot;main sum&#x3D;&quot;, sum)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;调用getSumAndSub</span><br><span class="line">	res1, res2 :&#x3D; getSumAndSub(2, 2)</span><br><span class="line">	fmt.Printf(&quot;res1 &#x3D; %v\nres2 &#x3D; %v\n&quot;, res1, res2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2、函数的递归调用"><a href="#2、函数的递归调用" class="headerlink" title="2、函数的递归调用"></a>2、函数的递归调用</h2><h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>​    一个函数在 函数体内又 调用了本身，我们称为递归调用</p>
<p>案例1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test(n int) &#123;</span><br><span class="line">	if n &gt; 2 &#123;</span><br><span class="line">		n--</span><br><span class="line">		test(n)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(&quot;n &#x3D; &quot;, n)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	test(4)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>案例2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test2(n2 int) &#123;</span><br><span class="line">	if n2 &gt; 2 &#123;</span><br><span class="line">		n2--</span><br><span class="line">		test2(n2)</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		fmt.Println(&quot;n2&#x3D; &quot;, n2)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	test2(4)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="递归调用的总结"><a href="#递归调用的总结" class="headerlink" title="递归调用的总结"></a>递归调用的总结</h3><p>函数递归需要遵守的重要原则:</p>
<ol>
<li><p>执行一个函数时，就创建一个新的受保护的独立空间(新函数栈)</p>
</li>
<li><p>函数的局部变量是独立的，不会相互影响</p>
</li>
<li><p>递归必须向退出递归的条件逼近，否则就是无限递归，死龟了:)</p>
</li>
<li><p>当一个函数执行完毕，或者遇到 return，就会返回，遵守谁调用，就将结果返回给谁，同时当函数执行完毕或者返回时，该函数本身也会被系统销毁</p>
</li>
</ol>
<h3 id="实例演示"><a href="#实例演示" class="headerlink" title="实例演示"></a>实例演示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;*请使用递归的方式，求出斐波那契数 1,1,2,3,5,8,13...</span><br><span class="line">给你一个整数 n，求出它的斐波那契数是多少？</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func fbn(n int) int &#123;</span><br><span class="line">	if n &#x3D;&#x3D; 1 || n &#x3D;&#x3D; 2 &#123;</span><br><span class="line">		return 1</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		return fbn(n-1) + fbn(n-2)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">	res1 :&#x3D; fbn(15)</span><br><span class="line">	fmt.Println(&quot;res1&#x3D;&quot;, res1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;已知 f(1)&#x3D;3; f(n) &#x3D; 2*f(n-1)+1;</span><br><span class="line">&#x2F;&#x2F;请使用递归的思想编程，求出 f(n)的值?</span><br><span class="line"></span><br><span class="line">func f(n int) int &#123;</span><br><span class="line">	if n &#x3D;&#x3D; 1 &#123;</span><br><span class="line">		return 3</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		return 2*f(n-1) + 1</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">	fmt.Println(&quot;f(5)&#x3D;&quot;, f(5))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;有一堆桃子，猴子第一天吃了其中的一半，并再多吃了一个！以后每天猴子都吃其中的一半，然后</span><br><span class="line">&#x2F;&#x2F;再多吃一个。 当到第十天时 ， 想再吃时 （ 还没吃 ） ， 发现只有 1  个桃子了。问题：最初共多少个桃子？</span><br><span class="line">&#x2F;&#x2F;思路:第9天的桃子数&#x3D;(第10天的+1)*2</span><br><span class="line">func peach(n int) int &#123;</span><br><span class="line">	if n &gt; 10 || n &lt; 1 &#123;</span><br><span class="line">		fmt.Println(&quot;输入有误&quot;)</span><br><span class="line">		return 0</span><br><span class="line">	&#125;</span><br><span class="line">	if n &#x3D;&#x3D; 10 &#123;</span><br><span class="line">		return 1</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		return ((peach(n+1) + 1) * 2)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">	fmt.Println(&quot;第3天桃子&#x3D;&quot;, peach(3))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="函数使用的注意事项和细节"><a href="#函数使用的注意事项和细节" class="headerlink" title="函数使用的注意事项和细节"></a>函数使用的注意事项和细节</h3><ol>
<li><p>函数的形参列表可以是多个，返回值列表也可以是多个。</p>
</li>
<li><p>形参列表和返回值列表的数据类型可以是值类型和引用类型。</p>
</li>
<li><p>函数的命名遵循标识符命名规范，首字母不能是数字，首字母大写该函数可以被本包文件和其它包文件使用，类似 public , 首字母小写，只能被本包文件使用，其它包文件不能使用，类似 privat</p>
</li>
<li><p>函数中的变量是局部的，函数外不生效</p>
</li>
<li><p> 基本数据类型和 数组默认都是 值传递的，即进行值拷贝。在函数内修改，不会影响到原来的值</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test(n1 int) &#123;</span><br><span class="line">	n1 +&#x3D; 10</span><br><span class="line">	fmt.Println(&quot;test()n1&#x3D;&quot;, n1)</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">	num :&#x3D; 5</span><br><span class="line">	test(num)</span><br><span class="line">	fmt.Println(&quot;main()num&#x3D;&quot;, num)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>如果希望函数内的变量能修改函数外的变量(指的是默认以值传递的方式的数据类型)，可以传入变量的地址&amp;，函数内以指针的方式操作变量。从效果上看类似引用</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test(n1 *int) &#123;</span><br><span class="line">	*n1 +&#x3D; 10</span><br><span class="line"></span><br><span class="line">	fmt.Println(&quot;test()n1&#x3D;&quot;, *n1)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">	num :&#x3D; 5</span><br><span class="line">	test(&amp;num)</span><br><span class="line">	fmt.Println(&quot;main()num&#x3D;&quot;, num)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="7">
<li><p>Go 函数不支持函数重新定义</p>
</li>
<li><p>在 Go 中， 函数也是一种数据类型，可以赋值给一个变量，则该变量就是一个函数类型的变量了。通过该 变量可以对函数调用</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test(n1 int, n2 int) int &#123;</span><br><span class="line">	return n1 + n2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	a :&#x3D; test    &#x2F;&#x2F;调用test函数</span><br><span class="line">	fmt.Printf(&quot;a的类型%T\ntest的类型%T\n&quot;, a, test)</span><br><span class="line">	res :&#x3D; a(11, 12)</span><br><span class="line">	fmt.Println(&quot;res&#x3D;&quot;, res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="9">
<li>函数既然是一种数据类型，因此在 Go 中，函数可以作为形参并且调用</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func test(n1 int, n2 int) int &#123;</span><br><span class="line">	return n1 + n2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func my(yum func(int, int) int, num1 int, num2 int) int &#123;</span><br><span class="line">	return yum(num1, num2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	res1 :&#x3D; my(test, 10, 20)</span><br><span class="line">	fmt.Println(&quot;res1&#x3D;&quot;, res1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="10">
<li>为了简化数据类型定义，Go 支持自定义数据类型</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">基本语法：type 自定义数据类型名 数据类型 &#x2F;&#x2F; 理解: 相当于一个别名</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;type myInt int &#x2F;&#x2F; 这时 myInt 就等价 int 来使用了</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	type myInt int</span><br><span class="line">	var num1 myInt</span><br><span class="line">	var num2 int</span><br><span class="line">	num1 &#x3D; 30</span><br><span class="line">	num2 &#x3D; int(num1)   &#x2F;&#x2F;需要进行类型转换</span><br><span class="line">	fmt.Printf(&quot;num1类型为%T\nnum2类型为%T\n&quot;, num1, num2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;type mySum func (int, int) int</span><br><span class="line">&#x2F;&#x2F; 这时 mySum 就等价 一个 函数类型 func (int, int)int</span><br><span class="line">func test(n1 int, n2 int) int &#123;</span><br><span class="line">	return n1 + n2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type mysum func(int, int) int</span><br><span class="line"></span><br><span class="line">func myfun(hello mysum, num1 int, num2 int) int &#123;</span><br><span class="line">	return hello(num1, num2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	res :&#x3D; myfun(test, 5, 7)</span><br><span class="line">	fmt.Println(&quot;res&#x3D;&quot;, res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="11">
<li>支持对函数返回值命名</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func sum(n1 int, n2 int) (sub1 int, sub2 int) &#123;</span><br><span class="line">	sub1 &#x3D; n1 - n2</span><br><span class="line">	sub2 &#x3D; n1 + n2</span><br><span class="line">	return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	n1, n2 :&#x3D; sum(5, 4)</span><br><span class="line">	fmt.Printf(&quot;n1&#x3D;%v\nn2&#x3D;%v\n&quot;, n1, n2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="12">
<li>使用 _ 标识符，忽略返回值</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func sum(n1 int, n2 int) (sub1 int, sub2 int) &#123;</span><br><span class="line">	sub1 &#x3D; n1 - n2</span><br><span class="line">	sub2 &#x3D; n1 + n2</span><br><span class="line">	return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	n1, _ :&#x3D; sum(5, 4)</span><br><span class="line">	fmt.Printf(&quot;n1&#x3D;%v\n&quot;, n1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="13">
<li>Go 支持可变参数</li>
</ol>
<p>说明：</p>
<p>​    1、args是slice切片，通过args[index]可以访问到各个值</p>
<p>​    2、 如果一个函数的形参列表中有可变参数，则可变参数需要放在形参列表最后</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func sum(n1 int, args ...int) int &#123;</span><br><span class="line">	sum :&#x3D; n1</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(args); i++ &#123;</span><br><span class="line">		sum +&#x3D; args[i]</span><br><span class="line">	&#125;</span><br><span class="line">	return sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	res :&#x3D; sum(1, 4, 55, 66, 77)</span><br><span class="line">	fmt.Println(&quot;res&#x3D;&quot;, res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实例练习</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func sum(n1, n2 float32) float32 &#123;</span><br><span class="line">	fmt.Printf(&quot;n1类型%T\n&quot;, n1)</span><br><span class="line">	return n1 + n2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	fmt.Println(&quot;sum&#x3D;&quot;, sum(1, 2))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;请编写一个函数 swap(n1 *int, n2 *int) 可以交换 n1 和 n2 的值</span><br><span class="line">func swap(n1 *int, n2 *int) &#123;</span><br><span class="line">	t :&#x3D; *n1</span><br><span class="line">	*n1 &#x3D; *n2</span><br><span class="line">	*n2 &#x3D; t</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	a :&#x3D; 10</span><br><span class="line">	b :&#x3D; 20</span><br><span class="line">	swap(&amp;a, &amp;b)</span><br><span class="line">	fmt.Printf(&quot;a&#x3D;%v\nb&#x3D;%v\n&quot;, a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3、init函数"><a href="#3、init函数" class="headerlink" title="3、init函数"></a>3、init函数</h2><h3 id="基本介绍-1"><a href="#基本介绍-1" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>每一个源文件都可以包含一个 init  函数，该函数会在 main 函数执行前，被 Go 运行框架调用，也就是说 init 会在 main 函数前被调用</p>
<h3 id="案例说明"><a href="#案例说明" class="headerlink" title="案例说明"></a>案例说明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func init() &#123;</span><br><span class="line">	fmt.Println(&quot;init()...&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	fmt.Println(&quot;main()...&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line">init()...</span><br><span class="line">main()...</span><br></pre></td></tr></table></figure>
<h3 id="inti-函数的注意事项和细节"><a href="#inti-函数的注意事项和细节" class="headerlink" title="inti 函数的注意事项和细节"></a>inti 函数的注意事项和细节</h3><ol>
<li> 如果一个文件同时包含 全局变量定义，init  函数和 main  函数，则执行的流程 全局变量定义 -&gt; init函数 -&gt; main函数</li>
</ol>
<p>2）init 函数最主要的作用，就是完成一些初始化的工作</p>
<p>3）引入包中包含全局变量和init函数，执行流程：</p>
<p>引入包中全局变量定义–&gt; 引入包中init函数–&gt; 全局变量定义–&gt; init函数–&gt; main函数</p>
<h2 id="4、匿名函数"><a href="#4、匿名函数" class="headerlink" title="4、匿名函数"></a>4、匿名函数</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>​    Go 支持匿名函数，匿名函数就是没有名字的函数，如果我们某个函数只是希望使用一次，可以考虑使用匿名函数，匿名函数也可以实现多次调用</p>
<h3 id="匿名函数使用方式"><a href="#匿名函数使用方式" class="headerlink" title="匿名函数使用方式"></a>匿名函数使用方式</h3><p>在定义匿名函数时就直接调用，这种方式匿名函数只能调用一次</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	res1 :&#x3D; func(n1 int, n2 int) int &#123;</span><br><span class="line">		return n1 + n2</span><br><span class="line">	&#125;(5, 1)</span><br><span class="line">	fmt.Println(&quot;res1&#x3D;&quot;, res1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将 匿名函数赋给一个变量(函数变量)，再通过该数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	res1 :&#x3D; func(n1 int, n2 int) int &#123;</span><br><span class="line">		return n1 - n2</span><br><span class="line">	&#125;</span><br><span class="line">	res2 :&#x3D; res1(5, 4)</span><br><span class="line">	fmt.Println(&quot;res2&#x3D;&quot;, res2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="全局匿名函数"><a href="#全局匿名函数" class="headerlink" title="全局匿名函数"></a>全局匿名函数</h3><p>如果将匿名函数赋给一个全局变量，那么这个匿名函数，就成为一个全局匿名函数，可以在程序有效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;全局变量首字母大写</span><br><span class="line">var (</span><br><span class="line">	Res1 &#x3D; func(n1 int, n2 int) int &#123;</span><br><span class="line">		return n1 + n2</span><br><span class="line">	&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	res2 :&#x3D; Res1(3, 2)</span><br><span class="line">	fmt.Println(&quot;res2&#x3D;&quot;, res2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5、Go语言闭包"><a href="#5、Go语言闭包" class="headerlink" title="5、Go语言闭包"></a>5、Go语言闭包</h2><h3 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h3><p>基本介绍：闭包就是 一个函数和与 其相关的引用环境组合的 一个整体(实体)</p>
<h3 id="案例演示-1"><a href="#案例演示-1" class="headerlink" title="案例演示"></a>案例演示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;累加器</span><br><span class="line">func AddUpper() func(int) int &#123;</span><br><span class="line">	var n int &#x3D; 10</span><br><span class="line">	return func(x int) int &#123;</span><br><span class="line">		n &#x3D; n + x</span><br><span class="line">		return n</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	res :&#x3D; AddUpper()</span><br><span class="line">	fmt.Println(res(1))</span><br><span class="line">	fmt.Println(res(3))</span><br><span class="line">	fmt.Println(res(5))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对上面代码的说明和总结</p>
<ol>
<li><p>AddUpper 是一个函数，返回的数据类型是 fun (int) int</p>
</li>
<li><p>返回的是一个匿名函数, 但是这个匿名函数引用到函数外的 n ,因此这个匿名函数就和 n 形成一个整体，构成闭包。</p>
</li>
<li><p>闭包是类, 函数是操作，n 是字段。函数和它使用到 n 构成闭包。</p>
</li>
<li><p>当我们反复的调用 res 函数时，因为 n 是初始化一次，因此每调用一次就进行累计。</p>
</li>
<li><p>要搞清楚闭包的关键，就是要分析出返回的函数它使用(引用)到哪些变量，因为函数和它引用到的变量共同构成闭包。</p>
</li>
<li><p>对上面代码的一个修改，加深对闭包的理解</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;累加器</span><br><span class="line">func AddUpper() func(string) string &#123;</span><br><span class="line">	var name string &#x3D; &quot;hello&quot;</span><br><span class="line">	return func(x string) string &#123;</span><br><span class="line">		name &#x3D; name + x</span><br><span class="line">		return name</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	res :&#x3D; AddUpper()</span><br><span class="line">	fmt.Println(res(&quot;a&quot;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strings&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 1) 编写一个函数 makeSuffix(suffix string) 可以接收一个文件后缀名(比如.jpg)，并返回一个闭包</span><br><span class="line">&#x2F;&#x2F; 2) 调用闭包，可以传入一个文件名，如果该文件名没有指定的后缀(比如.jpg) ,则返回 文件名.jpg , 如果已经有.jpg 后缀，则返回原文件名。</span><br><span class="line">&#x2F;&#x2F; 3) 要求使用闭包的方式完成</span><br><span class="line">&#x2F;&#x2F; 4) strings.HasSuffix , 该函数可以判断某个字符串是否有指定的后缀。</span><br><span class="line"></span><br><span class="line">func makeSuffix(suffix string) func(string) string &#123;</span><br><span class="line">	return func(name string) string &#123;</span><br><span class="line">		if !strings.HasSuffix(name, suffix) &#123;</span><br><span class="line">			return name + suffix</span><br><span class="line">		&#125;</span><br><span class="line">		return name</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	f2 :&#x3D; makeSuffix(&quot;.jpg&quot;)</span><br><span class="line">	fmt.Println(&quot;文件类型为&quot;, f2(&quot;hello&quot;))</span><br><span class="line">	fmt.Println(&quot;文件类型为&quot;, f2(&quot;yes.jpg&quot;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码的总结和说明:</p>
<ol>
<li><p>返回的匿名函数和 makeSuffix (suffix string) 的 suffix 变量 组合成一个闭包,因为 返回的函数引用到 suffix 这个变量</p>
</li>
<li><p>我们体会一下闭包的好处，如果使用传统的方法，也可以轻松实现这个功能，但是传统方法需要每次都传入 后缀名，比如 .jpg ,而闭包因为可以保留上次引用的某个值，所以我们传入一次就可以反复使用。</p>
</li>
</ol>
<h2 id="6、函数defer"><a href="#6、函数defer" class="headerlink" title="6、函数defer"></a>6、函数defer</h2><h3 id="介绍-2"><a href="#介绍-2" class="headerlink" title="介绍"></a>介绍</h3><p>在函数中，程序员经常需要创建资源(比如：数据库连接、文件句柄、锁等) ，为了在 函数执行完毕后，及时的释放资源，Go 的设计者提供 defer (延时机制)。</p>
<h3 id="快速入门案例"><a href="#快速入门案例" class="headerlink" title="快速入门案例"></a>快速入门案例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;当执行到defer，暂时不执行，会将defer后面的语句压入到独立的栈(derfer栈)</span><br><span class="line">&#x2F;&#x2F;当函数执行完毕后，再从defer栈，按照先入后出的方式出栈</span><br><span class="line">func sum(n1 int, n2 int) int &#123;</span><br><span class="line">	defer fmt.Println(&quot;ok1&#x3D;&quot;, n1)</span><br><span class="line">	defer fmt.Println(&quot;ok2&#x3D;&quot;, n2)</span><br><span class="line">	res :&#x3D; n1 + n2</span><br><span class="line">	fmt.Println(&quot;ok3&#x3D;&quot;, res)</span><br><span class="line">	return res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	res :&#x3D; sum(10, 20)</span><br><span class="line">	fmt.Println(&quot;res&#x3D;&quot;, res)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;输出结果：</span><br><span class="line">ok3&#x3D; 30</span><br><span class="line">ok2&#x3D; 20</span><br><span class="line">ok1&#x3D; 10</span><br><span class="line">res&#x3D; 30</span><br></pre></td></tr></table></figure>
<h3 id="defer-的注意事项和细节"><a href="#defer-的注意事项和细节" class="headerlink" title="defer 的注意事项和细节"></a>defer 的注意事项和细节</h3><ol>
<li><p>当 go 执行到一个 defer 时，不会立即执行 defer 后的语句，而是将 defer 后的语句压入到一个栈中, 然后继续执行函数下一个语句。</p>
</li>
<li><p>当函数执行完毕后，在从 defer 栈中，依次从栈顶取出语句执行(注：遵守栈 先入后出的机制)。</p>
</li>
<li><p>在 defer 将语句放入到栈时，也会将相关的值拷贝同时入栈。</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func sum(n1 int, n2 int) int &#123;</span><br><span class="line">	defer fmt.Println(&quot;ok1&#x3D;&quot;, n1)</span><br><span class="line">	defer fmt.Println(&quot;ok2&#x3D;&quot;, n2)</span><br><span class="line"></span><br><span class="line">	n1++</span><br><span class="line">	n2++</span><br><span class="line">	res :&#x3D; n1 + n2</span><br><span class="line">	fmt.Println(&quot;ok3&#x3D;&quot;, res)</span><br><span class="line">	return res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	res :&#x3D; sum(10, 20)</span><br><span class="line">	fmt.Println(&quot;res&#x3D;&quot;, res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="defer-的最佳实践"><a href="#defer-的最佳实践" class="headerlink" title="defer 的最佳实践"></a>defer 的最佳实践</h3><p>defer 最主要的价值是在，当函数执行完毕后，可以及时的释放函数创建的资源。看下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">func test() &#123;</span><br><span class="line">	&#x2F;&#x2F;关闭文件资源</span><br><span class="line">	file &#x3D; openfile(文件名)</span><br><span class="line">	defer file.close()</span><br><span class="line">	&#x2F;&#x2F;其他代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">func test() &#123;</span><br><span class="line">	&#x2F;&#x2F;释放数据库资源</span><br><span class="line">	connect &#x3D; openDatabase()</span><br><span class="line">	defer connect.close()</span><br><span class="line">	&#x2F;&#x2F;其他代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>说明：</p>
<ol>
<li><p>在 golang 编程中的通常做法是，创建资源后，比如(打开了文件，获取了数据库的链接，或者是锁资源)， 可以执行 defer file.Close() defer connect.Close()</p>
</li>
<li><p>在 defer 后，可以继续使用创建资源.</p>
</li>
<li><p>当函数完毕后，系统会依次从 defer 栈中，取出语句，关闭资源.</p>
</li>
<li><p>这种机制，非常简洁，程序员不用再为在什么时机关闭资源而烦心。</p>
</li>
</ol>
<h2 id="7、函数参数传递"><a href="#7、函数参数传递" class="headerlink" title="7、函数参数传递"></a>7、函数参数传递</h2><h3 id="基本介绍-2"><a href="#基本介绍-2" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>值类型参数默认就是值传递，而引用类型参数默认就是引用传递。</p>
<h3 id="两种传递方式"><a href="#两种传递方式" class="headerlink" title="两种传递方式"></a>两种传递方式</h3><ol>
<li><p>值传递</p>
</li>
<li><p>引用传递</p>
</li>
</ol>
<p>​    其实，不管是值传递还是引用传递，传递给函数的都是变量的副本，不同的是，值传递的是值的拷贝，引用传递的是地址的拷贝，一般来说，地址拷贝效率高，因为数据量小，而值拷贝决定拷贝的数据大小，数据越大，效率越低。</p>
<h3 id="值类型和引用类型"><a href="#值类型和引用类型" class="headerlink" title="值类型和引用类型"></a>值类型和引用类型</h3><ol>
<li><p> 值类型：基本数据类型 int 系列, float 系列, bool, string 、数组和结构体 struct</p>
</li>
<li><p> 引用类型：指针、slice 切片、map、管道 chan、interface 等都是引用类型</p>
</li>
</ol>
<h3 id="值传递和引用传递使用特点"><a href="#值传递和引用传递使用特点" class="headerlink" title="值传递和引用传递使用特点"></a>值传递和引用传递使用特点</h3><p>1、值类型默认是值传递：变量直接存储值，内存通常在栈中分配</p>
<p>2、引用类型默认是引用传递：变量存储的是一个地址，这个地址对应的空间才真正存储数据，内存通常在堆上分配，当没有任何变量引用这个地址时，改地址对应的数据空间就成为一个垃圾，由GC来回收</p>
<p>3、如果希望函数内的变量能修改函数外的变量，可以传入变量的地址&amp;，函数内以指针的方式操作变量。从效果上看类似引用</p>
<h2 id="8、变量作用域"><a href="#8、变量作用域" class="headerlink" title="8、变量作用域"></a>8、变量作用域</h2><ol>
<li><p>函数内部声明/定义的变量叫局部变量， 作用域仅限于函数内部</p>
</li>
<li><p>函数外部声明/定义的变量叫全局变量，作用域在整个包都有效，如果其首字母为大写，则作用域在整个程序有效</p>
</li>
<li><p>如果变量是在一个代码块，比如 for / if 中，那么这个变量的的作用域就在该代码块</p>
</li>
</ol>
<h3 id="实例练习"><a href="#实例练习" class="headerlink" title="实例练习"></a>实例练习</h3><ol>
<li>函数可以没有返回值案例，编写一个函数,从终端输入一个整数打印出对应的金子塔</li>
</ol>
<p>分析思路：就是将原来写的打印金字塔的案例，使用函数的方式封装，在需要打印时，直接调用即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func leve(leve int) &#123;</span><br><span class="line">	for n1 :&#x3D; 1; n1 &lt;&#x3D; leve; n1++ &#123;</span><br><span class="line">		&#x2F;&#x2F;打印空格数</span><br><span class="line">		for n2 :&#x3D; 1; n2 &lt;&#x3D; leve-n1; n2++ &#123;</span><br><span class="line">			fmt.Print(&quot; &quot;)</span><br><span class="line">		&#125;</span><br><span class="line">		&#x2F;&#x2F;每层打印多少*</span><br><span class="line">		for n3 :&#x3D; 1; n3 &lt;&#x3D; 2*n1-1; n3++ &#123;</span><br><span class="line">			if n3 &#x3D;&#x3D; 1 || n1 &#x3D;&#x3D; leve || n3 &#x3D;&#x3D; 2*n1-1 &#123;</span><br><span class="line">				fmt.Print(&quot;*&quot;)</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				fmt.Print(&quot; &quot;)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">	var res int</span><br><span class="line">	fmt.Println(&quot;请输入层数&quot;)</span><br><span class="line">	fmt.Scanln(&amp;res)</span><br><span class="line">	leve(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func res2(num int) &#123;</span><br><span class="line">	for i :&#x3D; 1; i &lt;&#x3D; num; i++ &#123;</span><br><span class="line">		for j :&#x3D; 1; j &lt;&#x3D; i; j++ &#123;</span><br><span class="line">			fmt.Printf(&quot;%v * %v &#x3D; %v\t&quot;, i, j, i*j) &#x2F;&#x2F;&quot;\t&quot;制表符</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println() &#x2F;&#x2F;换行</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">	var res1 int</span><br><span class="line">	fmt.Println(&quot;请输入数字&quot;)</span><br><span class="line">	fmt.Scanln(&amp;res1)</span><br><span class="line">	res2(res1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/09/Go%E8%AF%AD%E8%A8%80for%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/bb.jpg">
      <meta itemprop="name" content="羊皮裘老头">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="羊皮裘老头">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 羊皮裘老头">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/09/Go%E8%AF%AD%E8%A8%80for%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6/" class="post-title-link" itemprop="url">Go语言for循环控制</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-09 11:37:31" itemprop="dateCreated datePublished" datetime="2021-04-09T11:37:31+08:00">2021-04-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-17 17:07:33" itemprop="dateModified" datetime="2022-04-17T17:07:33+08:00">2022-04-17</time>
    </span>

  
    <span id="/2021/04/09/Go%E8%AF%AD%E8%A8%80for%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6/" class="post-meta-item leancloud_visitors" data-flag-title="Go语言for循环控制" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="for-循环的基本语法"><a href="#for-循环的基本语法" class="headerlink" title="for 循环的基本语法"></a>for 循环的基本语法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法格式</span><br><span class="line">for 循环变量初始化; 循环条件; 循环变量迭代 &#123;</span><br><span class="line">循环操作(语句)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对上面的语法格式说明</p>
<ol>
<li><p>循环变量初始化</p>
</li>
<li><p>循环条件</p>
</li>
<li><p>循环操作(语句) ,有人也叫循环体。</p>
</li>
<li><p>循环变量迭代</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for 循环执行的顺序说明：</span><br><span class="line">1) 执行循环变量初始化，比如 i :&#x3D; 1</span><br><span class="line">2) 执行循环条件， 比如 i &lt;&#x3D; 10</span><br><span class="line">3) 如果循环条件为真，就执行循环操作 :比如 fmt.Println(“....”)</span><br><span class="line">4) 执行循环变量迭代 , 比如 i++</span><br><span class="line">5) 反复执行 2, 3, 4 步骤，直到 循环条件为 False ，就退出 for 循环</span><br></pre></td></tr></table></figure>
<h2 id="for-循环的使用注意事项和细节讨论"><a href="#for-循环的使用注意事项和细节讨论" class="headerlink" title="for 循环的使用注意事项和细节讨论"></a>for 循环的使用注意事项和细节讨论</h2><h3 id="1-循环条件是返回一个-布尔值的表达式"><a href="#1-循环条件是返回一个-布尔值的表达式" class="headerlink" title="1)  循环条件是返回一个 布尔值的表达式"></a>1)  循环条件是返回一个 布尔值的表达式</h3><h3 id="2-for-循环的第二种使用方式"><a href="#2-for-循环的第二种使用方式" class="headerlink" title="2) for 循环的第二种使用方式"></a>2) for 循环的第二种使用方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for 循环判断条件 &#123;</span><br><span class="line">&#x2F;&#x2F;循环执行语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将变量初始化和变量迭代写到其它位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	i :&#x3D; 5</span><br><span class="line">	for i &lt;&#x3D; 10 &#123;</span><br><span class="line">		fmt.Println(&quot;hello&quot;)</span><br><span class="line">		i++</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-for-循环的第三种使用方式"><a href="#3-for-循环的第三种使用方式" class="headerlink" title="3) for 循环的第三种使用方式"></a>3) for 循环的第三种使用方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for &#123;</span><br><span class="line">&#x2F;&#x2F;循环执行语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的写法价 等价 for ; ; {} 是一个 无限循环， 通常需要 配合 break  语句使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	i :&#x3D; 5</span><br><span class="line">	for &#123;</span><br><span class="line">		if i &lt;&#x3D; 100 &amp;&amp; i &gt;&#x3D; 0 &#123;</span><br><span class="line">			fmt.Println(&quot;ok&quot;)</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			break</span><br><span class="line">		&#125;</span><br><span class="line">		i++</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(&quot;i&#x3D;&quot;, i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-Golang-提供-for-range-的方式，可以方便遍历字符串和数组"><a href="#4-Golang-提供-for-range-的方式，可以方便遍历字符串和数组" class="headerlink" title="4) Golang 提供 for-range 的方式，可以方便遍历字符串和数组"></a>4) Golang 提供 for-range 的方式，可以方便遍历字符串和数组</h3><p>字符串遍历方式 1-传统方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var str string &#x3D; &quot;hello 明天&quot;</span><br><span class="line">	str2 :&#x3D; []rune(str)   &#x2F;&#x2F;str转成[]rune切片</span><br><span class="line">	for i :&#x3D; 0; i &lt; len(str2); i++ &#123;</span><br><span class="line">		fmt.Printf(&quot;%c\n&quot;, str2[i])   &#x2F;&#x2F;长度为下标数</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>字符串遍历方式 2-for - range</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var str string &#x3D; &quot;hello 明天&quot;</span><br><span class="line">	for index, val :&#x3D; range str &#123;</span><br><span class="line">		fmt.Printf(&quot;index&#x3D;%d, val&#x3D;%c\n&quot;, index, val)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;打印 1~100 之间所有是 9 的倍数的整数的个数及总和</span><br><span class="line">	var num int64 &#x3D; 100</span><br><span class="line">	var cun int64 &#x3D; 0</span><br><span class="line">	var sum int64 &#x3D; 0</span><br><span class="line">	var i int64 &#x3D; 1     &#x2F;&#x2F;i和num类型必须一致</span><br><span class="line">	for ; i &lt;&#x3D; num; i++ &#123;</span><br><span class="line">		if i%9 &#x3D;&#x3D; 0 &#123;</span><br><span class="line">			cun++</span><br><span class="line">			sum +&#x3D; i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(&quot;cun&#x3D;%v\nsum&#x3D;%v\n&quot;, cun, sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F; 完成下面的表达式输出 ，6 是可变的</span><br><span class="line">	var n int &#x3D; 6</span><br><span class="line">	for i :&#x3D; 0; i &lt;&#x3D; n; i++ &#123;</span><br><span class="line">		fmt.Printf(&quot;%v + %v &#x3D; %v\n&quot;, i, n-i, n)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F; 使用 for 循环完成下面的案例请编写一个程序，可以接收一个整数,表示层数，打印出金字塔</span><br><span class="line">	&#x2F;&#x2F;1、先打印矩形</span><br><span class="line">	&#x2F;&#x2F;2、打印半个三角形，规律每行个数和行数相等即j&#x3D;i</span><br><span class="line">	&#x2F;&#x2F;3、打印整个金字塔2*层数-1</span><br><span class="line">	&#x2F;&#x2F;4、打印空格，总层数-层数</span><br><span class="line">	&#x2F;&#x2F;5、用变量表示层数</span><br><span class="line">	&#x2F;&#x2F;6、空心金字塔只打印第一个和最后一个*,如果行数是最后一行则全部打印*</span><br><span class="line">	var level int &#x3D; 9</span><br><span class="line">	for i :&#x3D; 1; i &lt;&#x3D; level; i++ &#123; &#x2F;&#x2F;i表示层数</span><br><span class="line">		for k :&#x3D; 1; k &lt;&#x3D; level-i; k++ &#123;</span><br><span class="line">			fmt.Print(&quot; &quot;)         &#x2F;&#x2F;Print 使用其操作数的默认格式进行格式化并写入到标准输出</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		for j :&#x3D; 1; j &lt;&#x3D; 2*i-1; j++ &#123; &#x2F;&#x2F;j表示每行打印几个</span><br><span class="line">			if j &#x3D;&#x3D; 1 || j &#x3D;&#x3D; 2*i-1 || i &#x3D;&#x3D; level &#123;</span><br><span class="line">				fmt.Print(&quot;*&quot;)</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				fmt.Print(&quot; &quot;)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println() &#x2F;&#x2F;相当于换行符</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F; 打印乘九九法表</span><br><span class="line">	for i :&#x3D; 1; i &lt;&#x3D; 9; i++ &#123; &#x2F;&#x2F;i表示层数</span><br><span class="line">		for j :&#x3D; 1; j &lt;&#x3D; i; j++ &#123;</span><br><span class="line">			fmt.Printf(&quot;%v * %v &#x3D; %v \t&quot;, j, i, j*i) &#x2F;&#x2F;%t制表符</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="控制语句break"><a href="#控制语句break" class="headerlink" title="控制语句break"></a>控制语句break</h2><h3 id="break入门案例"><a href="#break入门案例" class="headerlink" title="break入门案例"></a>break入门案例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;math&#x2F;rand&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;随机生成 1-100 的一个数，直到生成了 99 这个数，看看你一共用了几次?</span><br><span class="line">	var count int &#x3D; 0 &#x2F;&#x2F;总共使用的次数</span><br><span class="line">	for &#123;</span><br><span class="line">		rand.Seed(time.Now().UnixNano()) &#x2F;&#x2F;UnixNano返回t作为Unix时间，这是自1970年1月1日UTC以来经过的纳秒数</span><br><span class="line">		n :&#x3D; rand.Intn(100) + 1          &#x2F;&#x2F;Intn从默认Source返回[0，n）中的非负伪随机数作为int</span><br><span class="line">		fmt.Println(&quot;n&#x3D;&quot;, n)             &#x2F;&#x2F;打出随机数</span><br><span class="line">		count++                          &#x2F;&#x2F;打印使用次数</span><br><span class="line">		if n &#x3D;&#x3D; 99 &#123;</span><br><span class="line">			break</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(&quot;一共使用了%v次&quot;, count)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>break 语句用于终止某个语句块的执行，用于中断当前 for 循环或跳出 switch 语句。</p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123; ……</span><br><span class="line">break</span><br><span class="line">……</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="break-的注意事项和使用细节"><a href="#break-的注意事项和使用细节" class="headerlink" title="break 的注意事项和使用细节"></a>break 的注意事项和使用细节</h3><p>(1) break 默认会跳出最近的 for 循环</p>
<p>(2) break 后面可以指定标签，跳出标签对应的 for 循环</p>
<h3 id="案例演示"><a href="#案例演示" class="headerlink" title="案例演示"></a>案例演示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;100 以内的数求和，求出 当和 第一次大于 20 的当前数</span><br><span class="line">	var sum int &#x2F;&#x2F;定义接收和的参数</span><br><span class="line">	for i :&#x3D; 0; i &lt;&#x3D; 100; i++ &#123;</span><br><span class="line">		sum &#x3D; i + i</span><br><span class="line">		if sum &gt;&#x3D; 20 &#123;</span><br><span class="line">			fmt.Printf(&quot;第一次大于20的当前数是%v&quot;, i)</span><br><span class="line">			break</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;实现登录验证，有三次机会，如果用户名为”tom” ,密码”888”提示登录成功，否则提示还有几次机会</span><br><span class="line">	var name string</span><br><span class="line">	var passwd string</span><br><span class="line">	var login int &#x3D; 3    &#x2F;&#x2F;定义登陆次数接收</span><br><span class="line">	for i :&#x3D; 1; i &lt;&#x3D; 3; i++ &#123;</span><br><span class="line">		fmt.Println(&quot;请输入用户名&quot;)</span><br><span class="line">		fmt.Scanln(&amp;name)</span><br><span class="line">		fmt.Println(&quot;请输入密码&quot;)</span><br><span class="line">		fmt.Scanln(&amp;passwd)</span><br><span class="line">		if name &#x3D;&#x3D; &quot;tom&quot; &amp;&amp; passwd &#x3D;&#x3D; &quot;888&quot; &#123;</span><br><span class="line">			fmt.Println(&quot;登陆成功&quot;)</span><br><span class="line">			break</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			login--</span><br><span class="line">			fmt.Printf(&quot;剩余次数为%v\n&quot;, login)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if login &#x3D;&#x3D; 0 &#123;</span><br><span class="line">		fmt.Println(&quot;次数用完&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="跳转控制语句-continue"><a href="#跳转控制语句-continue" class="headerlink" title="跳转控制语句-continue"></a>跳转控制语句-continue</h2><h3 id="基本介绍："><a href="#基本介绍：" class="headerlink" title="基本介绍："></a>基本介绍：</h3><p>continue 语句用于 结束本次循环，继续 执行下一次循环。</p>
<p>continue 语句出现在多层嵌套的循环语句体中时，环 可以通过标签指明要跳过的是哪一层循环 , 这个和前面的 break 标签的使用的规则一样.</p>
<h3 id="基本语法："><a href="#基本语法：" class="headerlink" title="基本语法："></a>基本语法：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123; ……</span><br><span class="line">continue</span><br><span class="line">……</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="案例练习"><a href="#案例练习" class="headerlink" title="案例练习"></a>案例练习</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;打印1--100的奇数</span><br><span class="line">	for i :&#x3D; 1; i &lt;&#x3D; 100; i++ &#123;</span><br><span class="line">		if i%2 &#x3D;&#x3D; 0 &#123;</span><br><span class="line">			continue</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(&quot;奇数有%v\n&quot;, i)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F; 某人有 100,000 元,每经过一次路口，需要交费,规则如下:</span><br><span class="line">	&#x2F;&#x2F; 当现金&gt;50000 时,每次交 5%</span><br><span class="line">	&#x2F;&#x2F; 当现金&lt;&#x3D;50000 时,每次交 1000</span><br><span class="line">	&#x2F;&#x2F; 编程计算该人可以经过多少次路口,使用 for break 方式完成</span><br><span class="line"></span><br><span class="line">	var a float64 &#x3D; 100000 &#x2F;&#x2F;总共有多少钱</span><br><span class="line">	var b float64          &#x2F;&#x2F;现金大于50000还剩余多少钱</span><br><span class="line">	var e float64          &#x2F;&#x2F;现金低于50000还剩多少钱</span><br><span class="line">	var c int              &#x2F;&#x2F;现金大于50000时能经过的次数</span><br><span class="line">	var d int              &#x2F;&#x2F;现金低于50000时能经过的次数</span><br><span class="line">	var f int              &#x2F;&#x2F;总共能经过多少次</span><br><span class="line">	for b &#x3D; a; b &gt; 50000; b -&#x3D; b * 0.05 &#123;</span><br><span class="line">		c++</span><br><span class="line">	&#125;</span><br><span class="line">	for e &#x3D; b; e &lt; 50000; e -&#x3D; 1000 &#123;</span><br><span class="line">		d++</span><br><span class="line">		if e &lt; 1000 &#123;</span><br><span class="line">			break</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	f &#x3D; c + d</span><br><span class="line">	fmt.Println(&quot;c&quot;, c)</span><br><span class="line">	fmt.Println(&quot;d&quot;, d)</span><br><span class="line">	fmt.Printf(&quot;总共可以经过%v次,还剩%v钱&quot;, f, e)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="goto-基本介绍"><a href="#goto-基本介绍" class="headerlink" title="goto 基本介绍"></a>goto 基本介绍</h2><h3 id="goto-基本介绍-1"><a href="#goto-基本介绍-1" class="headerlink" title="goto 基本介绍"></a>goto 基本介绍</h3><ol>
<li><p>Go 语言的 goto 语句可以无条件地转移到程序中指定的行。</p>
</li>
<li><p>goto 语句通常与条件语句配合使用。可用来实现条件转移，跳出循环体等功能。</p>
</li>
<li><p>在 Go 程序设计中 一般不主张使用 goto  语句， 以免造成程序流程的混乱，使理解和调试程序都产生困难</p>
</li>
</ol>
<p>goto 基本语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">goto label</span><br><span class="line">.. .</span><br><span class="line">label: statement</span><br></pre></td></tr></table></figure>
<h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	var i int &#x3D; 40</span><br><span class="line">	fmt.Println(&quot;d&quot;)</span><br><span class="line">	fmt.Println(&quot;a&quot;)</span><br><span class="line">	fmt.Println(&quot;s&quot;)</span><br><span class="line">	if i &gt; 30 &#123;</span><br><span class="line">		goto label1</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(&quot;f&quot;)</span><br><span class="line">	fmt.Println(&quot;g&quot;)</span><br><span class="line">	fmt.Println(&quot;h&quot;)</span><br><span class="line">	fmt.Println(&quot;j&quot;)</span><br><span class="line">label1:</span><br><span class="line">	fmt.Println(&quot;k&quot;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/09/Go%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/bb.jpg">
      <meta itemprop="name" content="羊皮裘老头">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="羊皮裘老头">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 羊皮裘老头">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/09/Go%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" class="post-title-link" itemprop="url">程序流程控制</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-09 11:35:02" itemprop="dateCreated datePublished" datetime="2021-04-09T11:35:02+08:00">2021-04-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-17 17:07:33" itemprop="dateModified" datetime="2022-04-17T17:07:33+08:00">2022-04-17</time>
    </span>

  
    <span id="/2021/04/09/Go%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" class="post-meta-item leancloud_visitors" data-flag-title="程序流程控制" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="1、程序流程控制介绍"><a href="#1、程序流程控制介绍" class="headerlink" title="1、程序流程控制介绍"></a>1、程序流程控制介绍</h2><p>在程序中，程序运行的流程控制决定程序是如何执行的，是我们必须掌握的，主要有三大流程控制语句。</p>
<ol>
<li><p>顺序控制</p>
</li>
<li><p>分支控制</p>
</li>
<li><p>循环控制</p>
</li>
</ol>
<h3 id="1-1-顺序控制"><a href="#1-1-顺序控制" class="headerlink" title="1.1 顺序控制"></a>1.1 顺序控制</h3><p>程序从上到下逐行地执行，中间没有任何判断和跳转。</p>
<p>分支控制就是让程序有选择执行。有下面三种形式</p>
<ol>
<li><p>单分支</p>
</li>
<li><p>双分支</p>
</li>
</ol>
<p>3）多分支</p>
<h3 id="1-2-多分支的判断"><a href="#1-2-多分支的判断" class="headerlink" title="1.2 多分支的判断"></a>1.2 多分支的判断</h3><p>流程如下:</p>
<p>(1) 先判断条件表达式 1 是否成立，如果为真，就执行代码块 1</p>
<p>(2) 如果条件表达式 1 如果为假，就去判断条件表达式 2 是否成立， 如果条件表达式 2 为真，就执行代码块 2</p>
<p>(3) 依次类推.</p>
<p>(4) 如果所有的条件表达式不成立，则执行 else 的语句块。</p>
<p>(5) else 不是必须的。</p>
<p>(6) 多分支只能有一个执行入口</p>
<h3 id="1-3-嵌套分支"><a href="#1-3-嵌套分支" class="headerlink" title="1.3 嵌套分支"></a>1.3 嵌套分支</h3><p>基本介绍</p>
<p>在一个分支结构中又完整的嵌套了另一个完整的分支结构，里面的分支的结构称为内层分支外面的分支结构称为外层分支。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var month byte</span><br><span class="line">	var age byte</span><br><span class="line">	var mony float64 &#x3D; 60.0</span><br><span class="line">	fmt.Println(&quot;请输入月份&quot;)</span><br><span class="line">	fmt.Scanln(&amp;month)</span><br><span class="line">	fmt.Println(&quot;请输入年龄&quot;)</span><br><span class="line">	fmt.Scanln(&amp;age)</span><br><span class="line">	if month &gt;&#x3D; 4 &amp;&amp; month &lt;&#x3D; 10 &#123;</span><br><span class="line">		if age &gt;&#x3D; 60 &#123;</span><br><span class="line">			fmt.Printf(&quot;%v 月年龄为 %v 的票价是 %v&quot;, month, age, mony&#x2F;3)</span><br><span class="line">		&#125; else if age &gt;&#x3D; 18 &#123;</span><br><span class="line">			fmt.Printf(&quot;%v 月年龄为 %v 的票价是 %v&quot;, month, age, mony)</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			fmt.Printf(&quot;%v 月年龄为 %v 的票价是 %v&quot;, month, age, mony&#x2F;2)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		if age &gt;&#x3D; 18 &#123;</span><br><span class="line">			fmt.Println(&quot;的票价是40&quot;)</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			fmt.Println(&quot;票价是20&quot;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2、Switch语句"><a href="#2、Switch语句" class="headerlink" title="2、Switch语句"></a>2、Switch语句</h2><h3 id="2-1-基本的介绍"><a href="#2-1-基本的介绍" class="headerlink" title="2.1 基本的介绍"></a>2.1 基本的介绍</h3><ol>
<li><p>switch 语句用于基于不同条件执行不同动作，每一个 case 分支都是唯一的，从上到下逐一测试，直到匹配为止。</p>
</li>
<li><p>匹配项后面也 不需要再加 break</p>
</li>
</ol>
<h3 id="2-2-switch-的使用的注意事项和细节"><a href="#2-2-switch-的使用的注意事项和细节" class="headerlink" title="2.2 switch 的使用的注意事项和细节"></a>2.2 switch 的使用的注意事项和细节</h3><ol>
<li><p>case/switch 后是一个表达式( 即： 常量值、变量、一个有 返回值的函数等都可以)</p>
</li>
<li><p>case 后的各个表达式的值的数据类型，必须和 switch 的表达式数据类型一致</p>
</li>
<li><p>case 后面可以带多个表达式，使用逗号间隔。比如 case 表达式 1, 表达式 2 …</p>
</li>
<li><p>case 后面的表达式如果是常量值(字面量)，则要求不能重复</p>
</li>
<li><p>case 后面不需要带 break , 程序匹配到一个 case 后就会执行对应的代码块，然后退出 switch，如果一个都匹配不到，则执行 default</p>
</li>
<li><p>default 语句不是必须的.</p>
</li>
<li><p>switch 后也可以不带表达式，类似 if –else 分支来使用。</p>
</li>
<li><p>switch 后也可以直接声明/定义一个变量，分号结束， 不推荐。</p>
</li>
<li><p>switch 穿透-fallthrough ，如果在 case 语句块后增加 fallthrough ,则会继续执行下一个 case，也叫 switch 穿透</p>
</li>
<li><p>Type Switch：switch 语句还可以被用于 type-switch 来判断某个 interface 变量中实际指向的变量类型</p>
</li>
</ol>
<h3 id="2-3-案例演示"><a href="#2-3-案例演示" class="headerlink" title="2.3 案例演示"></a>2.3 案例演示</h3><ol>
<li>使用 switch 把小写类型的 char 型转为大写(键盘输入)。只转换 a, b, c, d, e. 其它的输出“other”</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var num byte</span><br><span class="line">	fmt.Println(&quot;请输入字母&quot;)</span><br><span class="line">	fmt.Scanf(&quot;%c&quot;, &amp;num)</span><br><span class="line"></span><br><span class="line">	switch num &#123;</span><br><span class="line">	case &#39;a&#39;:</span><br><span class="line">		fmt.Println(&quot;A&quot;)</span><br><span class="line">	case &#39;b&#39;:</span><br><span class="line">		fmt.Println(&quot;B&quot;)</span><br><span class="line">	case &#39;c&#39;:</span><br><span class="line">		fmt.Println(&quot;C&quot;)</span><br><span class="line">	case &#39;d&#39;:</span><br><span class="line">		fmt.Println(&quot;D&quot;)</span><br><span class="line">	case &#39;e&#39;:</span><br><span class="line">		fmt.Println(&quot;E&quot;)</span><br><span class="line">	default:</span><br><span class="line">		fmt.Println(&quot;输入错误&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>对学生成绩大于 60 分的，输出“合格”。低于 60 分的，输出“不合格”。(注：输入的成绩不能大于 100)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var num float64</span><br><span class="line">	fmt.Println(&quot;请输入分数&quot;)</span><br><span class="line">	fmt.Scanln(&amp;num)</span><br><span class="line"></span><br><span class="line">	switch &#123;</span><br><span class="line">	case num &gt;&#x3D; 60 &amp;&amp; num &lt;&#x3D; 100:</span><br><span class="line">		fmt.Println(&quot;合格&quot;)</span><br><span class="line">	case num &lt; 60:</span><br><span class="line">		fmt.Println(&quot;不合格&quot;)</span><br><span class="line">	default:</span><br><span class="line">		fmt.Println(&quot;输入错误&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>根据用户指定月份，打印该月份所属的季节。3,4,5 春季 6,7,8 夏季 9,10,11 秋季 12, 1, 2 冬季</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var month byte</span><br><span class="line">	fmt.Println(&quot;请输入月份&quot;)</span><br><span class="line">	fmt.Scanln(&amp;month)</span><br><span class="line"></span><br><span class="line">	switch month &#123;</span><br><span class="line">	case 3, 4, 5:</span><br><span class="line">		fmt.Println(&quot;春节&quot;)</span><br><span class="line">	case 6, 7, 8:</span><br><span class="line">		fmt.Println(&quot;夏节&quot;)</span><br><span class="line">	case 9, 10, 11:</span><br><span class="line">		fmt.Println(&quot;秋节&quot;)</span><br><span class="line">	case 12, 1, 2:</span><br><span class="line">		fmt.Println(&quot;冬节&quot;)</span><br><span class="line">	default:</span><br><span class="line">		fmt.Println(&quot;输入错误&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-4-switch-和-if-的比较"><a href="#2-4-switch-和-if-的比较" class="headerlink" title="2.4 switch 和 if 的比较"></a>2.4 switch 和 if 的比较</h2><ol>
<li><p>如果判断的 具体数值不多，而且符合整数、浮点数、字符、字符串这几种类型。建议使用 swtich语句，简洁高效。</p>
</li>
<li><p>其他情况：对 区间判断和结果为 bool 类型的判断，使用 if，if  的使用范围更广</p>
</li>
</ol>
<h2 id="3、多重循环控制"><a href="#3、多重循环控制" class="headerlink" title="3、多重循环控制"></a>3、多重循环控制</h2><h3 id="3-1-基本介绍"><a href="#3-1-基本介绍" class="headerlink" title="3.1 基本介绍"></a>3.1 基本介绍</h3><ol>
<li><p>将一个循环放在另一个循环体内，就形成了嵌套循环。在外边的 for 称为外层循环在里面的 for循环称为内层循环。【 建议一般使用两层，最多不要超过 3  层】</p>
</li>
<li><p>实质上，嵌套循环就是把内层循环当成外层循环的循环体。当只有内层循环的循环条件为 false时，才会完全跳出内层循环，才可结束外层的当次循环，开始下一次的循环。</p>
</li>
<li><p>外层循环次数为 m 次，内层为 n 次，则内层循环体实际上需要执行 m*n 次</p>
</li>
</ol>
<h3 id="3-2-案例"><a href="#3-2-案例" class="headerlink" title="3.2 案例"></a>3.2 案例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F; 统计 3 个班成绩情况，每个班有 5 名同学，求出各个班的平均分和所有班级的平均分[学生的成绩从键盘输入],并统计及格人数</span><br><span class="line">	&#x2F;&#x2F;先统计一个班五名学生的成绩，再求出平均分</span><br><span class="line">	&#x2F;&#x2F;再统计五个班</span><br><span class="line">	&#x2F;&#x2F;再统计年级平均成绩</span><br><span class="line">	&#x2F;&#x2F;函数类型必须一致，否则进行类型转换</span><br><span class="line">	var classtotol int &#x3D; 2 &#x2F;&#x2F;优化总班级</span><br><span class="line">	var memtotol int &#x3D; 2   &#x2F;&#x2F;优化每个班人数</span><br><span class="line">	var totol float64      &#x2F;&#x2F;定义变量接收全年级总成绩</span><br><span class="line">	var sum float64        &#x2F;&#x2F;定义函数接收总成绩</span><br><span class="line">	var mem int           &#x2F;&#x2F;接收及格人数</span><br><span class="line">	for j :&#x3D; 1; j &lt;&#x3D; classtotol; j++ &#123; &#x2F;&#x2F;三个班级的平均成绩</span><br><span class="line">		for i :&#x3D; 1; i &lt;&#x3D; memtotol; i++ &#123;</span><br><span class="line">			var count float64                      &#x2F;&#x2F;定义变量接收成绩</span><br><span class="line">			fmt.Printf(&quot;请输入第%d班第%d个学生的成绩\n&quot;, j, i) &#x2F;&#x2F;%d	十进制表示</span><br><span class="line">			fmt.Scanln(&amp;count)</span><br><span class="line">			sum &#x3D; sum + count</span><br><span class="line">			if count &gt;&#x3D; 60 &#123;</span><br><span class="line">				mem++</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(&quot;第%d班班级平均成绩为%v\n&quot;, j, sum&#x2F;float64(memtotol)) &#x2F;&#x2F;%v相应值的默认格式</span><br><span class="line">	&#125;</span><br><span class="line">	totol &#x3D; totol + sum</span><br><span class="line">	fmt.Printf(&quot;全年级平均成绩为%v\n&quot;, totol&#x2F;float64(memtotol*classtotol))</span><br><span class="line">	fmt.Printf(&quot;及格人数为%v&quot;, mem)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/07/Go%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/bb.jpg">
      <meta itemprop="name" content="羊皮裘老头">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="羊皮裘老头">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 羊皮裘老头">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/07/Go%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88/" class="post-title-link" itemprop="url">Go语言指针</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-07 16:24:17" itemprop="dateCreated datePublished" datetime="2021-04-07T16:24:17+08:00">2021-04-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-17 17:07:33" itemprop="dateModified" datetime="2022-04-17T17:07:33+08:00">2022-04-17</time>
    </span>

  
    <span id="/2021/04/07/Go%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88/" class="post-meta-item leancloud_visitors" data-flag-title="Go语言指针" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="认识指针地址和指针类型"><a href="#认识指针地址和指针类型" class="headerlink" title="认识指针地址和指针类型"></a>认识指针地址和指针类型</h2><p>​        一个指针变量可以指向任何一个值的内存地址，它所指向的值的内存地址在 32 和 64 位机器上分别占用 4 或 8 个字节，占用字节的大小与所指向的值的大小无关。当一个指针被定义后没有分配到任何变量时，它的默认值为 nil。指针变量通常缩写为 ptr。</p>
<p>​         每个变量在运行时都拥有一个地址，这个地址代表变量在内存中的位置。Go语言中使用在变量名前面添加<code>&amp;</code>操作符（前缀）来获取变量的内存地址（取地址操作），格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ptr :&#x3D; &amp;v    &#x2F;&#x2F; v 的类型为 T</span><br></pre></td></tr></table></figure>
<p>其中 v 代表被取地址的变量，变量 v 的地址使用变量 ptr 进行接收，ptr 的类型为<code>*T</code>，称做 T 的指针类型，<code>*</code>代表指针。</p>
<p>指针实际用法，可以通过下面的例子了解：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;声明变量cat类型为整型</span><br><span class="line">	var cat int &#x3D; 1</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;声明变量str类型为字符串</span><br><span class="line">	var str string &#x3D; &quot;banana&quot;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;使用动词%p打印cat和str变量的内存地址，指针的值是带有0x十六进制前缀的一组数据</span><br><span class="line">	fmt.Printf(&quot;%p\n%p&quot;, &amp;cat, &amp;str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>提示：变量、指针和地址三者的关系是，每个变量都拥有地址，指针的值就是地址。</p>
<h2 id="从指针获取指针指向的值"><a href="#从指针获取指针指向的值" class="headerlink" title="从指针获取指针指向的值"></a>从指针获取指针指向的值</h2><p>当使用<code>&amp;</code>操作符对普通变量进行取地址操作并得到变量的指针后，可以对指针使用<code>*</code>操作符，也就是指针取值，代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	&#x2F;&#x2F;准备一个整型并赋值</span><br><span class="line">	var house &#x3D; 677</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;对整型取地址，并将指针保存到变量ptr中</span><br><span class="line">	ptr :&#x3D; &amp;house</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;打印ptr的类型</span><br><span class="line">	fmt.Printf(&quot; ptr type is %T\n&quot;, ptr)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;打印ptr的指针地址</span><br><span class="line">	&#x2F;&#x2F;指针用%p，表示十六进制，前缀 0x</span><br><span class="line">	fmt.Printf(&quot;ptr 地址是 %p\n&quot;, ptr)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;对指针进行取值操作</span><br><span class="line">	value :&#x3D; *ptr</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;打印指针的类型</span><br><span class="line">	fmt.Printf(&quot;value type is %T\n&quot;, value)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;打印指针的值</span><br><span class="line">	fmt.Printf(&quot;value is %v\n&quot;, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>取地址操作符<code>&amp;</code>和取值操作符<code>*</code>是一对互补操作符，<code>&amp;</code>取出地址，<code>*</code>根据地址取出地址指向的值。</p>
<p> 变量、指针地址、指针变量、取地址、取值的相互关系和特性如下：</p>
<ul>
<li>对变量进行取地址操作使用<code>&amp;</code>操作符，可以获得这个变量的指针变量。</li>
<li>指针变量的值是指针地址。</li>
<li>对指针变量进行取值操作使用<code>*</code>操作符，可以获得指针变量指向的原变量的值。</li>
</ul>
<h2 id="使用指针修改值"><a href="#使用指针修改值" class="headerlink" title="使用指针修改值"></a>使用指针修改值</h2><p>通过指针不仅可以取值，也可以修改值。</p>
<p> 前面已经演示了使用多重赋值的方法进行数值交换，使用指针同样可以进行数值交换，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;定义一个交换函数，参数为a、b，类型都是*int指针类型</span><br><span class="line">func swap(a, b *int) &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;取a指针的值，并把值赋给t，t此时类型为int</span><br><span class="line">	t :&#x3D; *a</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;取 b 的指针值，赋给指针 a 指向的变量。注意，此时*a的意思不是取 a 指针的值，而是“a 指向的变量”</span><br><span class="line">	*a &#x3D; *b</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;将 t 的值赋给指针 b 指向的变量</span><br><span class="line">	*b &#x3D; t</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;准备 x、y 两个变量，分别赋值为 1 和 2，类型为 int</span><br><span class="line">	x, y :&#x3D; 1, 2</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;取出 x 和 y 的地址作为参数传给 swap() 函数进行调用</span><br><span class="line">	swap(&amp;x, &amp;y)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;交换完毕时，输出 x 和 y 的值</span><br><span class="line">	fmt.Println(x, y)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​        <code>*</code>操作符作为右值时，意义是取指针的值，作为左值时，也就是放在赋值操作符的左边时，表示 a 指针指向的变量。其实归纳起来，<code>*</code>操作符的根本意义就是操作指针指向的变量。当操作在右值时，就是取指向变量的值，当操作在左值时，就是将值设置给指向的变量。</p>
<p>​         如果在 swap() 函数中交换操作的是指针值，会发生什么情况？可以参考下面代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func swap(a, b *int) &#123;</span><br><span class="line">    b, a &#x3D; a, b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    x, y :&#x3D; 1, 2</span><br><span class="line">    swap(&amp;x, &amp;y)</span><br><span class="line">    fmt.Println(x, y)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​        结果表明，交换是不成功的。上面代码中的 swap() 函数交换的是 a 和 b 的地址，在交换完毕后，a 和 b 的变量值确实被交换。但和  a、b 关联的两个变量并没有实际关联。这就像写有两座房子的卡片放在桌上一字摊开，交换两座房子的卡片后并不会对两座房子有任何影响。</p>
<h2 id="值类型和引用类型"><a href="#值类型和引用类型" class="headerlink" title="值类型和引用类型"></a>值类型和引用类型</h2><p>值类型：基本数据类型 int 系列, float 系列, bool, string 、数组和结构体 struct</p>
<p>引用类型：指针、slice 切片、map、管道 chan、interface 等都是引用类型</p>
<h3 id="值类型和引用类型的使用特点"><a href="#值类型和引用类型的使用特点" class="headerlink" title="值类型和引用类型的使用特点"></a>值类型和引用类型的使用特点</h3><p>值类型：变量直接存储值，内存通常在栈中分配</p>
<p>引用类型：变量存储的是一个地址，这个地址对应的空间才真正存储数据(值)，内存通常在堆<br>上分配，当没有任何变量引用这个地址时，该地址对应的数据空间就成为一个垃圾，由 GC 来回收</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/07/Go%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/bb.jpg">
      <meta itemprop="name" content="羊皮裘老头">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="羊皮裘老头">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 羊皮裘老头">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/07/Go%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F/" class="post-title-link" itemprop="url">Go语言变量</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-07 16:23:16" itemprop="dateCreated datePublished" datetime="2021-04-07T16:23:16+08:00">2021-04-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-17 17:07:33" itemprop="dateModified" datetime="2022-04-17T17:07:33+08:00">2022-04-17</time>
    </span>

  
    <span id="/2021/04/07/Go%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F/" class="post-meta-item leancloud_visitors" data-flag-title="Go语言变量" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="变量的声明"><a href="#变量的声明" class="headerlink" title="变量的声明"></a>变量的声明</h2><p>​        Go语言是静态类型语言，因此变量（variable）是有明确类型的，编译器也会检查变量类型的正确性。在数学概念中，变量表示没有固定值且可改变的数。但从计算机系统实现角度来看，变量是一段或多段用来存储数据的内存。</p>
<p> 声明变量的一般形式是使用 var 关键字：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var name type</span><br></pre></td></tr></table></figure>
<p>其中，var 是声明变量的关键字，name 是变量名，type 是变量的类型。</p>
<p>​         需要注意的是，Go语言和许多编程语言不同，它在声明变量时将变量的类型放在变量的名称之后。这样做的好处就是可以避免像C语言中那样含糊不清的声明形式，例如：<code>int* a, b;</code> 。其中只有 a 是指针而 b 不是。如果你想要这两个变量都是指针，则需要将它们分开书写。而在 Go 中，则可以和轻松地将它们都声明为指针类型：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var a, b *int</span><br></pre></td></tr></table></figure>
<p>Go语言的基本类型有：</p>
<ul>
<li>bool</li>
<li>string</li>
<li>int、int8、int16、int32、int64</li>
<li>uint、uint8、uint16、uint32、uint64、uintptr</li>
<li>byte       // uint8 的别名</li>
<li>rune      // int32 的别名 代表一个 Unicode 码</li>
<li>float32、float64</li>
<li>complex64、complex128</li>
</ul>
<p> 当一个变量被声明之后，系统自动赋予它该类型的零值：int 为 0，float 为 0.0，bool 为 false，string 为空字符串，指针为 nil 等。所有的内存在 Go 中都是经过初始化的。</p>
<p> 变量的命名规则遵循骆驼命名法，即首个单词小写，每个新单词的首字母大写，例如：numShips 和 startDate 。</p>
<h3 id="标准格式"><a href="#标准格式" class="headerlink" title="标准格式"></a>标准格式</h3><p>Go语言的变量声明的标准格式为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var 变量名 变量类型</span><br></pre></td></tr></table></figure>
<p>变量声明以关键字 var 开头，后置变量类型，行尾无须分号。</p>
<h3 id="批量格式"><a href="#批量格式" class="headerlink" title="批量格式"></a>批量格式</h3><p>觉得每行都用 var 声明变量比较烦琐？没关系，还有一种为懒人提供的定义变量的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var (</span><br><span class="line">    a int</span><br><span class="line">    b string</span><br><span class="line">    c []float32</span><br><span class="line">    d func() bool</span><br><span class="line">    e struct &#123;</span><br><span class="line">        x int</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>使用关键字 var 和括号，可以将一组变量定义放在一起。</p>
<h3 id="简短格式"><a href="#简短格式" class="headerlink" title="简短格式"></a>简短格式</h3><p>除 var 关键字外，还可使用更加简短的变量定义和初始化语法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">名字 :&#x3D; 表达式</span><br></pre></td></tr></table></figure>
<p>需要注意的是，简短模式（short variable declaration）有以下限制：</p>
<ul>
<li>定义变量，同时显式初始化。</li>
<li>不能提供数据类型。</li>
<li>只能用在函数内部。</li>
</ul>
<p> 和 var 形式声明语句一样，简短变量声明语句也可以用来声明和初始化一组变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i, j :&#x3D; 0, 1</span><br></pre></td></tr></table></figure>
<p>下面通过一段代码来演示简短格式变量声明的基本样式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">   x:&#x3D;100</span><br><span class="line">   a,s:&#x3D;1, &quot;abc&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​        因为简洁和灵活的特点，简短变量声明被广泛用于大部分的局部变量的声明和初始化。var 形式的声明语句往往是用于需要显式指定变量类型地方，或者因为变量稍后会被重新赋值而初始值无关紧要的地方。</p>
<h2 id="Go语言变量的初始化"><a href="#Go语言变量的初始化" class="headerlink" title="Go语言变量的初始化"></a>Go语言变量的初始化</h2><p>​        正如上一节《Go语言变量声明》中提到的<a target="_blank" rel="noopener" href="http://c-local.biancheng.net/golang/">Go语言</a>在声明变量时，自动对变量对应的内存区域进行初始化操作。每个变量会初始化其类型的默认值，例如：</p>
<ul>
<li>整型和浮点型变量的默认值为 0 和 0.0。</li>
<li>字符串变量的默认值为空字符串。</li>
<li>布尔型变量默认为 bool。</li>
<li>切片、函数、指针变量的默认为 nil。</li>
</ul>
<p> 当然，依然可以在变量声明时赋予变量一个初始值。</p>
<h3 id="变量初始化的标准格式"><a href="#变量初始化的标准格式" class="headerlink" title="变量初始化的标准格式"></a>变量初始化的标准格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var 变量名 类型 &#x3D; 表达式</span><br></pre></td></tr></table></figure>
<p>例如，游戏中，玩家的血量初始值为100。可以这样写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var hp int &#x3D; 100</span><br></pre></td></tr></table></figure>
<p>这句代码中，hp 为变量名，类型为 int，hp 的初始值为 100。</p>
<p> 上面代码中，100 和 int 同为 int 类型，int 可以认为是冗余信息，因此可以进一步简化初始化的写法。</p>
<h3 id="编译器推导类型的格式"><a href="#编译器推导类型的格式" class="headerlink" title="编译器推导类型的格式"></a>编译器推导类型的格式</h3><p>在标准格式的基础上，将 int 省略后，编译器会尝试根据等号右边的表达式推导 hp 变量的类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var hp &#x3D; 100</span><br></pre></td></tr></table></figure>
<p>等号右边的部分在编译原理里被称做右值（rvalue）。</p>
<p> 下面是编译器根据右值推导变量类型完成初始化的例子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var attack &#x3D; 40</span><br><span class="line">var defence &#x3D; 20</span><br><span class="line">var damageRate float32 &#x3D; 0.17</span><br><span class="line">var damage &#x3D; float32(attack-defence) * damageRate</span><br><span class="line">fmt.Println(damage)</span><br></pre></td></tr></table></figure>
<p>代码说明如下：</p>
<ul>
<li><p>第 1 和 2 行，右值为整型，attack 和 defence 变量的类型为 int。</p>
</li>
<li><p>第 3 行，表达式的右值中使用了 0.17。由于Go语言和C语言一样，编译器会尽量提高精确度，以避免计算中的精度损失。所以这里如果不指定  damageRate 变量的类型，Go语言编译器会将 damageRate 类型推导为 float64，我们这里不需要 float64  的精度，所以需要强制指定类型为 float32。</p>
</li>
<li><p>第 4 行，将 attack 和 defence 相减后的数值结果依然为整型，使用 float32() 将结果转换为 float32 类型，再与 float32 类型的 damageRate 相乘后，damage 类型也是 float32 类型。</p>
<blockquote>
<p>提示：damage 变量的右值是一个复杂的表达式，整个过程既有 attack 和 defence 的运算还有强制类型转换。强制类型转换会在后面的章节中介绍。</p>
</blockquote>
</li>
<li><p>第 5 行，输出 damage 的值。</p>
</li>
</ul>
<p> 以上代码输出结果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3.4</span><br></pre></td></tr></table></figure>
<h3 id="短变量声明并初始化"><a href="#短变量声明并初始化" class="headerlink" title="短变量声明并初始化"></a>短变量声明并初始化</h3><p>var 的变量声明还有一种更为精简的写法，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hp :&#x3D; 100</span><br></pre></td></tr></table></figure>
<p>这是Go语言的推导声明写法，编译器会自动根据右值类型推断出左值的对应类型。</p>
<blockquote>
<p>注意：由于使用了<code>:=</code>，而不是赋值的<code>=</code>，因此推导声明写法的左值变量必须是没有定义过的变量。若定义过，将会发生编译错误。</p>
</blockquote>
<p>如果 hp 已经被声明过，但依然使用<code>:=</code>时编译器会报错，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 声明 hp 变量</span><br><span class="line">var hp int</span><br><span class="line">&#x2F;&#x2F; 再次声明并赋值</span><br><span class="line">hp :&#x3D; 10</span><br></pre></td></tr></table></figure>
<p>编译报错如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">no new variables on left side of :&#x3D;</span><br></pre></td></tr></table></figure>
<p>意思是，在“:=”的左边没有新变量出现，意思就是“:=”的左边变量已经被声明了。</p>
<p> 短变量声明的形式在开发中的例子较多，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn, err :&#x3D; net.Dial(&quot;tcp&quot;,&quot;127.0.0.1:8080&quot;)</span><br></pre></td></tr></table></figure>
<p>​        net.Dial 提供按指定协议和地址发起网络连接，这个函数有两个返回值，一个是连接对象（conn），一个是错误对象（err）。如果是标准格式将会变成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var conn net.Conn</span><br><span class="line">var err error</span><br><span class="line">conn, err &#x3D; net.Dial(&quot;tcp&quot;, &quot;127.0.0.1:8080&quot;)</span><br></pre></td></tr></table></figure>
<p>因此，短变量声明并初始化的格式在开发中使用比较普遍。</p>
<p>​         注意：在多个短变量声明和赋值中，至少有一个新声明的变量出现在左值中，即便其他变量名可能是重复声明的，编译器也不会报错，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conn, err :&#x3D; net.Dial(&quot;tcp&quot;, &quot;127.0.0.1:8080&quot;)</span><br><span class="line">conn2, err :&#x3D; net.Dial(&quot;tcp&quot;, &quot;127.0.0.1:8080&quot;)</span><br></pre></td></tr></table></figure>
<p>上面的代码片段，编译器不会报 err 重复定义。</p>
<h2 id="Go语言多个变量同时赋值"><a href="#Go语言多个变量同时赋值" class="headerlink" title="Go语言多个变量同时赋值"></a>Go语言多个变量同时赋值</h2><p>​        编程最简单的算法之一，莫过于变量交换。交换变量的常见算法需要一个中间变量进行变量的临时保存。用传统方法编写变量交换代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var a int &#x3D; 100</span><br><span class="line">var b int &#x3D; 200</span><br><span class="line">var t int</span><br><span class="line"></span><br><span class="line">t &#x3D; a</span><br><span class="line">a &#x3D; b</span><br><span class="line">b &#x3D; t</span><br><span class="line"></span><br><span class="line">fmt.Println(a, b)</span><br></pre></td></tr></table></figure>
<p>在计算机刚发明时，内存非常“精贵”。这种变量交换往往是非常奢侈的。于是计算机“大牛”发明了一些算法来避免使用中间变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var a int &#x3D; 100</span><br><span class="line">var b int &#x3D; 200</span><br><span class="line"></span><br><span class="line">a &#x3D; a ^ b</span><br><span class="line">b &#x3D; b ^ a</span><br><span class="line">a &#x3D; a ^ b</span><br><span class="line"></span><br><span class="line">fmt.Println(a, b)</span><br></pre></td></tr></table></figure>
<p>这样的算法很多，但是都有一定的数值范围和类型要求。</p>
<p> 到了Go语言时，内存不再是紧缺资源，而且写法可以更简单。使用 Go 的“多重赋值”特性，可以轻松完成变量交换的任务：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a int &#x3D; 100</span><br><span class="line">var b int &#x3D; 200</span><br><span class="line"></span><br><span class="line">b, a &#x3D; a, b</span><br><span class="line"></span><br><span class="line">fmt.Println(a, b)</span><br></pre></td></tr></table></figure>
<p>多重赋值时，变量的左值和右值按从左到右的顺序赋值。</p>
<p> 多重赋值在Go语言的错误处理和函数返回值中会大量地使用。例如使用Go语言进行排序时就需要使用交换，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">type IntSlice []int</span><br><span class="line"></span><br><span class="line">func (p IntSlice) Len() int           &#123; return len(p) &#125;</span><br><span class="line">func (p IntSlice) Less(i, j int) bool &#123; return p[i] &lt; p[j] &#125;</span><br><span class="line">func (p IntSlice) Swap(i, j int)      &#123; p[i], p[j] &#x3D; p[j], p[i] &#125;</span><br></pre></td></tr></table></figure>
<p>代码说明如下：</p>
<ul>
<li>第 1 行，将 IntSlice 声明为 []int 类型。</li>
<li>第 3 行，为 IntSlice 类型编写一个 Len 方法，提供切片的长度。</li>
<li>第 4 行，根据提供的 i、j 元素索引，获取元素后进行比较，返回比较结果。</li>
<li>第 5 行，根据提供的 i、j 元素索引，交换两个元素的值。</li>
</ul>
<h2 id="Go语言匿名变量"><a href="#Go语言匿名变量" class="headerlink" title="Go语言匿名变量"></a>Go语言匿名变量</h2><p>​        在编码过程中，可能会遇到没有名称的变量、类型或方法。虽然这不是必须的，但有时候这样做可以极大地增强代码的灵活性，这些变量被统称为匿名变量。</p>
<p>​         匿名变量的特点是一个下画线“_”，“_”本身就是一个特殊的标识符，被称为空白标识符。它可以像其他标识符那样用于变量的声明或赋值（任何类型都可以赋值给它），但任何赋给这个标识符的值都将被抛弃，因此这些值不能在后续的代码中使用，也不可以使用这个标识符作为变量对其它变量进行赋值或运算。使用匿名变量时，只需要在变量声明的地方使用下画线替换即可。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">func GetData() (int, int) &#123;</span><br><span class="line">    return 100, 200</span><br><span class="line">&#125;</span><br><span class="line">func main()&#123;</span><br><span class="line">    a, _ :&#x3D; GetData()</span><br><span class="line">    _, b :&#x3D; GetData()</span><br><span class="line">    fmt.Println(a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">100 200</span><br></pre></td></tr></table></figure>
<p>GetData() 是一个函数，拥有两个整型返回值。每次调用将会返回 100 和 200 两个数值。</p>
<p> 代码说明如下：</p>
<ul>
<li>第 5 行只需要获取第一个返回值，所以将第二个返回值的变量设为下画线（匿名变量）。</li>
<li>第 6 行将第一个返回值的变量设为匿名变量。</li>
</ul>
<p>匿名变量不占用内存空间，不会分配内存。匿名变量与匿名变量之间也不会因为多次声明而无法使用。</p>
<p> 提示：在 Lua 等编程语言里，匿名变量也被叫做哑元变量。</p>
<h2 id="Go语言变量的作用域"><a href="#Go语言变量的作用域" class="headerlink" title="Go语言变量的作用域"></a>Go语言变量的作用域</h2><p>一个变量（常量、类型或函数）在程序中都有一定的作用范围，称之为作用域。</p>
<p>​         了解变量的作用域对我们学习Go语言来说是比较重要的，因为Go语言会在编译时检查每个变量是否使用过，一旦出现未使用的变量，就会报编译错误。如果不能理解变量的作用域，就有可能会带来一些不明所以的编译错误。</p>
<p> 根据变量定义位置的不同，可以分为以下三个类型：</p>
<ul>
<li>函数内定义的变量称为局部变量</li>
<li>函数外定义的变量称为全局变量</li>
<li>函数定义中的变量称为形式参数</li>
</ul>
<p> 下面就来分别介绍一下。</p>
<h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><p>在函数体内声明的变量称之为局部变量，它们的作用域只在函数体内，函数的参数和返回值变量都属于局部变量。</p>
<p> 局部变量不是一直存在的，它只在定义它的函数被调用后存在，函数调用结束后这个局部变量就会被销毁。</p>
<p> 【示例】下面的 main() 函数中使用到了局部变量 a、b、c。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    &#x2F;&#x2F;声明局部变量 a 和 b 并赋值</span><br><span class="line">    var a int &#x3D; 3</span><br><span class="line">    var b int &#x3D; 4</span><br><span class="line">    &#x2F;&#x2F;声明局部变量 c 并计算 a 和 b 的和</span><br><span class="line">    c :&#x3D; a + b</span><br><span class="line">    fmt.Printf(&quot;a &#x3D; %d, b &#x3D; %d, c &#x3D; %d\n&quot;, a, b, c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; 3, b &#x3D; 4, c &#x3D; 7</span><br></pre></td></tr></table></figure>
<h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>​        在函数体外声明的变量称之为全局变量，全局变量只需要在一个源文件中定义，就可以在所有源文件中使用，当然，不包含这个全局变量的源文件需要使用“import”关键字引入全局变量所在的源文件之后才能使用这个全局变量。</p>
<p> 全局变量声明必须以 var 关键字开头，如果想要在外部包中使用全局变量的首字母必须大写。</p>
<p> 【示例】下面代码中，第 6 行定义了全局变量 c。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;声明全局变量</span><br><span class="line">var c int</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    &#x2F;&#x2F;声明局部变量</span><br><span class="line">    var a, b int</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;初始化参数</span><br><span class="line">    a &#x3D; 3</span><br><span class="line">    b &#x3D; 4</span><br><span class="line">    c &#x3D; a + b</span><br><span class="line"></span><br><span class="line">    fmt.Printf(&quot;a &#x3D; %d, b &#x3D; %d, c &#x3D; %d\n&quot;, a, b, c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; 3, b &#x3D; 4, c &#x3D; 7</span><br></pre></td></tr></table></figure>
<p><strong>Go语言程序中全局变量与局部变量名称可以相同，但是函数体内的局部变量会被优先考虑。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;声明全局变量</span><br><span class="line">var a float32 &#x3D; 3.14</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    &#x2F;&#x2F;声明局部变量</span><br><span class="line">    var a int &#x3D; 3</span><br><span class="line"></span><br><span class="line">    fmt.Printf(&quot;a &#x3D; %d\n&quot;, a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; 3</span><br></pre></td></tr></table></figure>
<h3 id="形式参数"><a href="#形式参数" class="headerlink" title="形式参数"></a>形式参数</h3><p>​        在定义函数时函数名后面括号中的变量叫做形式参数（简称形参）。形式参数只在函数调用时才会生效，函数调用结束后就会被销毁，在函数未被调用时，函数的形参并不占用实际的存储单元，也没有实际值。</p>
<p> 形式参数会作为函数的局部变量来使用。</p>
<p> 【示例】下面代码中第 21 行定义了形式参数 a 和 b。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;全局变量 a</span><br><span class="line">var a int &#x3D; 13</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    &#x2F;&#x2F;局部变量 a 和 b</span><br><span class="line">    var a int &#x3D; 3</span><br><span class="line">    var b int &#x3D; 4</span><br><span class="line"></span><br><span class="line">    fmt.Printf(&quot;main() 函数中 a &#x3D; %d\n&quot;, a)</span><br><span class="line">    fmt.Printf(&quot;main() 函数中 b &#x3D; %d\n&quot;, b)</span><br><span class="line">    c :&#x3D; sum(a, b)</span><br><span class="line">    fmt.Printf(&quot;main() 函数中 c &#x3D; %d\n&quot;, c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func sum(a, b int) int &#123;</span><br><span class="line">    fmt.Printf(&quot;sum() 函数中 a &#x3D; %d\n&quot;, a)</span><br><span class="line">    fmt.Printf(&quot;sum() 函数中 b &#x3D; %d\n&quot;, b)</span><br><span class="line">    num :&#x3D; a + b</span><br><span class="line">    return num</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">main() 函数中 a &#x3D; 3</span><br><span class="line">main() 函数中 b &#x3D; 4</span><br><span class="line">sum() 函数中 a &#x3D; 3</span><br><span class="line">sum() 函数中 b &#x3D; 4</span><br><span class="line">main() 函数中 c &#x3D; 7</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/07/Go%E8%AF%AD%E8%A8%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/bb.jpg">
      <meta itemprop="name" content="羊皮裘老头">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="羊皮裘老头">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 羊皮裘老头">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/07/Go%E8%AF%AD%E8%A8%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/" class="post-title-link" itemprop="url">Go语言数据类型转换</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-07 16:21:17" itemprop="dateCreated datePublished" datetime="2021-04-07T16:21:17+08:00">2021-04-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-17 17:07:33" itemprop="dateModified" datetime="2022-04-17T17:07:33+08:00">2022-04-17</time>
    </span>

  
    <span id="/2021/04/07/Go%E8%AF%AD%E8%A8%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/" class="post-meta-item leancloud_visitors" data-flag-title="Go语言数据类型转换" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>​        在必要以及可行的情况下，一个类型的值可以被转换成另一种类型的值。由于Go语言不存在隐式类型转换，因此所有的类型转换都必须显式的声明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">valueOfTypeB &#x3D; typeB(valueOfTypeA)</span><br></pre></td></tr></table></figure>
<p>类型 B 的值 = 类型 B(类型 A 的值)</p>
<p> 示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a :&#x3D; 5.0</span><br><span class="line">b :&#x3D; int(a)</span><br></pre></td></tr></table></figure>
<p>​        类型转换只能在定义正确的情况下转换成功，例如从一个取值范围较小的类型转换到一个取值范围较大的类型（将 int16 转换为  int32）。当从一个取值范围较大的类型转换到取值范围较小的类型时（将 int32 转换为 int16 或将 float32 转换为  int），会发生精度丢失（截断）的情况。</p>
<p>​         只有相同底层类型的变量之间可以进行相互转换（如将 int16 类型转换成 int32 类型），不同底层类型的变量相互转换时会引发编译错误（如将 bool 类型转换为 int 类型）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">        &quot;fmt&quot;</span><br><span class="line">        &quot;math&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 输出各数值范围</span><br><span class="line">        fmt.Println(&quot;int8 range:&quot;, math.MinInt8, math.MaxInt8)</span><br><span class="line">        fmt.Println(&quot;int16 range:&quot;, math.MinInt16, math.MaxInt16)</span><br><span class="line">        fmt.Println(&quot;int32 range:&quot;, math.MinInt32, math.MaxInt32)</span><br><span class="line">        fmt.Println(&quot;int64 range:&quot;, math.MinInt64, math.MaxInt64)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 初始化一个32位整型值</span><br><span class="line">        var a int32 &#x3D; 1047483647</span><br><span class="line">        &#x2F;&#x2F; 输出变量的十六进制形式和十进制值</span><br><span class="line">        fmt.Printf(&quot;int32: 0x%x %d\n&quot;, a, a)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 将a变量数值转换为十六进制, 发生数值截断</span><br><span class="line">        b :&#x3D; int16(a)</span><br><span class="line">        &#x2F;&#x2F; 输出变量的十六进制形式和十进制值</span><br><span class="line">        fmt.Printf(&quot;int16: 0x%x %d\n&quot;, b, b)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 将常量保存为float32类型</span><br><span class="line">        var c float32 &#x3D; math.Pi</span><br><span class="line">        &#x2F;&#x2F; 转换为int类型, 浮点发生精度丢失</span><br><span class="line">        fmt.Println(int(c))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码说明如下：</p>
<ul>
<li>第 11～14 行，输出几个常见整型类型的数值范围。</li>
<li>第 17 行，声明 int32 类型的变量 a 并初始化。</li>
<li>第 19 行，使用 fmt.Printf 的<code>%x</code>动词将数值以十六进制格式输出，这一行输出 a 在转换前的 32 位的值。</li>
<li>第 22 行，将 a 的值转换为 int16 类型，也就是从 32 位有符号整型转换为 16 位有符号整型，由于 int16 类型的取值范围比 int32 类型的取值范围小，因此数值会进行截断（精度丢失）。</li>
<li>第 24 行，输出转换后的 a 变量值，也就是 b 的值，同样以十六进制和十进制两种方式进行打印。</li>
<li>第 27 行，math.Pi 是 math 包的常量，默认没有类型，会在引用到的地方自动根据实际类型进行推导，这里 math.Pi 被赋值到变量 c 中，因此类型为 float32。</li>
<li>第 29 行，将 float32 转换为 int 类型并输出。</li>
</ul>
<p> 代码输出如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">int8 range: -128 127</span><br><span class="line">int16 range: -32768 32767</span><br><span class="line">int32 range: -2147483648 2147483647</span><br><span class="line">int64 range: -9223372036854775808 9223372036854775807</span><br><span class="line">int32: 0x3e6f54ff 1047483647</span><br><span class="line">int16: 0x54ff 21759</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p>​        根据输出结果，16 位有符号整型的范围是 -32768～32767，而变量 a 的值 1047483647 不在这个范围内。1047483647 对应的十六进制为 0x3e6f54ff，转为 int16 类型后，长度缩短一半，也就是在十六进制上砍掉一半，变成  0x54ff，对应的十进制值为 21759。</p>
<p>​         浮点数在转换为整型时，会将小数部分去掉，只保留整数部分。</p>
<h2 id="基本类型转-string-类型"><a href="#基本类型转-string-类型" class="headerlink" title="基本类型转 string 类型"></a>基本类型转 string 类型</h2><h3 id="方式-1：fmt-Sprintf-“-参数”-表达式"><a href="#方式-1：fmt-Sprintf-“-参数”-表达式" class="headerlink" title="方式 1：fmt.Sprintf(“%参数”, 表达式)"></a>方式 1：fmt.Sprintf(“%参数”, 表达式)</h3><p>函数的介绍：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">func Sprintf</span><br><span class="line"></span><br><span class="line">func Sprintf(format string, a ...interface&#123;&#125;) string</span><br><span class="line"></span><br><span class="line">Sprintf 根据于格式说明符进行格式化并返回其结果字符串。</span><br></pre></td></tr></table></figure>
<p>参数需要和表达式的数据类型相匹配，fmt.Sprintf().. 会返回转换后的字符串</p>
<p>示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	_ &quot;strconv&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var n1 int &#x3D; 99</span><br><span class="line">	var n2 float32 &#x3D; 22.3333</span><br><span class="line">	var n3 bool &#x3D; true</span><br><span class="line">	var n4 string</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;整数%d表示十进制输出</span><br><span class="line">	n4 &#x3D; fmt.Sprintf(&quot;%d&quot;, n1)</span><br><span class="line">	fmt.Printf(&quot;n4 type is %T n4&#x3D;%q\n&quot;, n4, n4)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;浮点型%f表示有小数点而无指数</span><br><span class="line">	n4 &#x3D; fmt.Sprintf(&quot;%f&quot;, n2)</span><br><span class="line">	fmt.Printf(&quot;n4 type is %T n4&#x3D;%q\n&quot;, n4, n4)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;布尔型%t表示单词 true 或 false</span><br><span class="line">	n4 &#x3D; fmt.Sprintf(&quot;%t&quot;, n3)</span><br><span class="line">	fmt.Printf(&quot;n4 type is %T n4&#x3D;%q\n&quot;, n4, n4)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="方式-2：使用-strconv-包的函数"><a href="#方式-2：使用-strconv-包的函数" class="headerlink" title="方式 2：使用 strconv 包的函数"></a>方式 2：使用 strconv 包的函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">func FormatBool(b bool) string</span><br><span class="line">func FormatFloat(f float64, fmt byte, prec, bitSize int) string</span><br><span class="line">func FormatInt(i int64, base int) string</span><br><span class="line">func FormatUint(i uint64, base int) string</span><br><span class="line">func Itoa(i int) string</span><br></pre></td></tr></table></figure>
<p>示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strconv&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var num1 int &#x3D; 88</span><br><span class="line">	var num2 float64 &#x3D; 333.444</span><br><span class="line">	var num3 bool</span><br><span class="line">	var num4 string</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;func FormatInt（i int64，base int）字符串</span><br><span class="line">	&#x2F;&#x2F;FormatInt返回给定基数中i的字符串表示形式，表示2 &lt;&#x3D; base &lt;&#x3D;36</span><br><span class="line">	&#x2F;&#x2F;结果使用小写字母&#39;a&#39;至&#39;z&#39;表示数字值&gt; &#x3D; 10。</span><br><span class="line">	num4 &#x3D; strconv.FormatInt(int64(num1), 10)</span><br><span class="line">	fmt.Printf(&quot;num4 type is %T num4&#x3D;%q\n&quot;, num4, num4)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;func FormatFloat（f float64，fmt byte，prec，bitSize int）字符串</span><br><span class="line">	&#x2F;&#x2F;FormatFloat根据格式fmt和precision prec将浮点数f转换为字符串。假设原始结果是从bitSize位的浮点值（float32为32，float64为64）获得的，则对结果进行四舍五入。</span><br><span class="line">	&#x2F;&#x2F;格式fmt是&#39;b&#39;（-ddddp±ddd，二进制指数），&#39;e&#39;（-d.dddde±dd，十进制指数），&#39;E&#39;（-d.ddddE±dd，十进制指数）之一），&#39;f&#39;（-ddd.dddd，无指数），&#39;g&#39;（大指数为&#39;e&#39;，否则为&#39;f&#39;）或&#39;G&#39;（大指数为&#39;E&#39;，否则为&#39;f&#39;）。</span><br><span class="line">	&#x2F;&#x2F;精度精度控制以“ e”，“ E”，“ f”，“ g”和“ G”格式打印的位数（不包括指数）。对于“ e”，“ E”和“ f”，它是小数点后的位数。对于“ g”和“ G”，它是数字的总数。特殊精度-1使用必要的最小位数，以使ParseFloat准确返回f。</span><br><span class="line">	num4 &#x3D; strconv.FormatFloat(num2, &#39;f&#39;, 10, 64)</span><br><span class="line">	fmt.Printf(&quot;num4 type is %T num4&#x3D;%q\n&quot;, num4, num4)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;func FormatBool（b bool）字符串</span><br><span class="line">	&#x2F;&#x2F;FormatBool根据b的值返回“ true”或“ false”</span><br><span class="line">	num4 &#x3D; strconv.FormatBool(num3)</span><br><span class="line">	fmt.Printf(&quot;num4 type is %T num4&#x3D;%q\n&quot;, num4, num4)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;func Itoa（i int）字符串</span><br><span class="line">	&#x2F;&#x2F;Itoa是FormatInt（i，10）的简写</span><br><span class="line">	var num5 int64 &#x3D; 35454</span><br><span class="line">	num4 &#x3D; strconv.Itoa(int(num5))</span><br><span class="line">	fmt.Printf(&quot;num4 type is %T num4&#x3D;%q\n&quot;, num4, num4)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="string-类型转基本数据类型"><a href="#string-类型转基本数据类型" class="headerlink" title="string 类型转基本数据类型"></a>string 类型转基本数据类型</h2><h3 id="使用时-strconv-包的函数"><a href="#使用时-strconv-包的函数" class="headerlink" title="使用时 strconv 包的函数"></a>使用时 strconv 包的函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">func ParseBool(str string) (value bool, err error)</span><br><span class="line">func ParseFloat(s string, bitSize int) (f float64, err error)</span><br><span class="line">func ParseInt(s string, base int, bitSize int) (i int64, err error)</span><br><span class="line">func ParseUint(s string, base int, bitSize int) (n uint64, err error)</span><br></pre></td></tr></table></figure>
<p>示例如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;strconv&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var num1 string &#x3D; &quot;true&quot;</span><br><span class="line">	var num2 bool</span><br><span class="line">	&#x2F;&#x2F;func ParseBool(str string) (value bool, err error)</span><br><span class="line">	&#x2F;&#x2F;ParseBool返回由字符串表示的布尔值。它接受1，t，T，TRUE，true，True，0，f，F，FALSE，false，False。其他任何值都将返回错误</span><br><span class="line">	num2, _ &#x3D; strconv.ParseBool(num1)</span><br><span class="line">	fmt.Printf(&quot;num2 type is %T num2&#x3D;%v\n&quot;, num2, num2)</span><br><span class="line">	&#x2F;&#x2F;说明：函数会返回两个值，只想取value bool，而不想要err，所以使用&quot;_&quot;忽略</span><br><span class="line">	&#x2F;&#x2F;%v按照原值输出</span><br><span class="line"></span><br><span class="line">	var num3 string &#x3D; &quot;123432432&quot;</span><br><span class="line">	var num4 int64</span><br><span class="line">	var num5 int</span><br><span class="line">	&#x2F;&#x2F;func ParseInt（s string，base int，bitSize int）（i int64，err error）</span><br><span class="line">	&#x2F;&#x2F;ParseInt解释给定基数（2到36）中的字符串s并返回对应的值i。如果base &#x3D;&#x3D; 0，则字符串的前缀隐含基数：“ 0x”的基数为16，“ 0”的基数为8，否则为10。</span><br><span class="line">	&#x2F;&#x2F;bitSize参数指定结果必须适合的整数类型。位大小0、8、16、32和64分别对应于int，int8，int16，int32和int64</span><br><span class="line">	&#x2F;&#x2F;ParseInt返回的错误的具体类型为* NumError，其中包括err.Num &#x3D; s。如果s为空或包含无效数字，则err.Err &#x3D; ErrSyntax，返回值为0；否则，返回0</span><br><span class="line">	&#x2F;&#x2F;如果与s对应的值不能用给定大小的有符号整数表示，则err.Err &#x3D; ErrRange，并且返回的值是适当的bitSize和sign的最大大小整数。</span><br><span class="line">	num4, _ &#x3D; strconv.ParseInt(num3, 10, 64)</span><br><span class="line">	num5 &#x3D; int(num4)</span><br><span class="line">	fmt.Printf(&quot;num4 type is %T num4&#x3D;%v\n&quot;, num4, num4)</span><br><span class="line">	fmt.Printf(&quot;num5 type is %T num5&#x3D;%v\n&quot;, num5, num5)</span><br><span class="line"></span><br><span class="line">	var num6 string &#x3D; &quot;1243.324&quot;</span><br><span class="line">	var num7 float64</span><br><span class="line">	&#x2F;&#x2F;func ParseFloat（s string，bitSize int）（f float64，err error）</span><br><span class="line">	&#x2F;&#x2F;ParseFloat将字符串s转换为由bitSize指定的精度的浮点数：float32为32或float64为64。当bitSize &#x3D; 32时，结果仍为float64类型，但可以将其转换为float32而无需更改其值</span><br><span class="line">	&#x2F;&#x2F;如果s格式正确且在有效的浮点数附近，则ParseFloat返回使用IEEE754无偏舍入舍入的最近的浮点数</span><br><span class="line">	&#x2F;&#x2F;ParseFloat返回的错误的具体类型为* NumError，其中包括err.Num &#x3D; s</span><br><span class="line">	&#x2F;&#x2F;如果s在语法上不正确，则ParseFloat返回err.Err &#x3D; ErrSyntax</span><br><span class="line">	&#x2F;&#x2F;如果s在语法上格式正确，但与给定大小的最大浮点数相差超过1&#x2F;2 ULP，则ParseFloat返回f &#x3D;±Inf，err.Err &#x3D; ErrRange</span><br><span class="line">	num7, _ &#x3D; strconv.ParseFloat(num6, 64)</span><br><span class="line">	fmt.Printf(&quot;num7 type is %T num7&#x3D;%v\n&quot;, num7, num7)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>说明：因为返回值是int64或者float64，如果希望得到int或者float32则需要转换</p>
<h3 id="string-转基本数据类型的注意事项"><a href="#string-转基本数据类型的注意事项" class="headerlink" title="string 转基本数据类型的注意事项"></a>string 转基本数据类型的注意事项</h3><p>​    在将 String 类型转成 基本数据类型时， 要确保 String  类型能够转成有效的数据，比如 我们可以把 “123” , 转成一个整数，但是不能把 “hello” 转成一个整数，如果这样做，Golang 直接将其转成 0 ，其它类型也是一样的道理. float =&gt; 0 bool =&gt; false</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2020 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">羊皮裘老头</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
<!--
-->

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":null,"app_key":null,"server_url":null,"security":true}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


<!-- calendar widget -->
{% if theme.CloudCalendar.enable %}
    <script src="{{ theme.CloudCalendar.calendarCdn }}"></script>
    <script src="{{ theme.CloudCalendar.langCdn }}"></script>
    <script>
    $(function() {
        $('#CloudCalendar').aCalendar('{{ theme.CloudCalendar.language }}',
            $.extend(
                '', {
                    single:{{ theme.CloudCalendar.single }},
                    root:'{{ theme.CloudCalendar.root }}'
                }
            )
        );
    });
    </script>
{% endif %}

</body>
</html>
